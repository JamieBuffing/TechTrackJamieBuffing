import{f as F,a as $,t as ea,c as he,d as gt}from"../chunks/B20stkQR.js";import"../chunks/BPPguxYx.js";import{C as ei,G as uo,F as Qn,h as Ye,w as co,B as fo,f,aE as ti,ax as ho,U as vo,a4 as ta,K as er,A as Ft,I as go,al as mo,V as dr,aw as po,au as hn,a2 as na,aq as q,P as ra,aj as ni,m as ri,aL as Un,av as ai,X as yo,aM as jn,aN as _o,aO as tr,a3 as ii,J as wo,aP as xo,ai as bo,aQ as Mo,z as ko,aR as oi,S as So,aS as Ao,aT as To,ay as No,ab as Co,aU as $o,aV as Do,aW as Eo,p as Me,s as R,q as E,v as N,t as ee,o as ke,an as b,M as Cr,n as re,d as z,i as Ee,aX as ge,aY as Ie,aZ as si}from"../chunks/BplkUxLQ.js";import{e as qe,s as X}from"../chunks/ClflXhKl.js";import{p as ie,i as V,b as Zt,c as Io}from"../chunks/B2Fygcga.js";import{s as pe}from"../chunks/C_JGXJtS.js";import{i as Ce}from"../chunks/Bb-bYzV9.js";import{c as Uo,o as Qt,a as Fn}from"../chunks/DIax3sE1.js";import{g as aa}from"../chunks/B2HC9mBy.js";const jo=!0;function Re(e,t){return t}function Fo(e,t,n){for(var r=e.items,a=[],i=t.length,o=0;o<i;o++)xo(t[o].e,a,!0);var s=i>0&&a.length===0&&n!==null;if(s){var u=n.parentNode;bo(u),u.append(n),r.clear(),Ve(e,t[0].prev,t[i-1].next)}Mo(a,()=>{for(var l=0;l<i;l++){var c=t[l];s||(r.delete(c.k),Ve(e,c.prev,c.next)),ii(c.e,!s)}})}function ze(e,t,n,r,a,i=null){var o=e,s={flags:t,items:new Map,first:null},u=(t&oi)!==0;if(u){var l=e;o=Ye?Qn(co(l)):l.appendChild(ei())}Ye&&fo();var c=null,d=!1,h=new Map,v=ti(()=>{var y=n();return ri(y)?y:y==null?[]:ni(y)}),m,p;function _(){Ho(p,m,s,h,o,a,t,r,n),i!==null&&(m.length===0?c?ai(c):c=dr(()=>i(o)):c!==null&&yo(c,()=>{c=null}))}uo(()=>{p??=ko,m=f(v);var y=m.length;if(d&&y===0)return;d=y===0;let k=!1;if(Ye){var D=ho(o)===vo;D!==(y===0)&&(o=ta(),Qn(o),er(!1),k=!0)}if(Ye){for(var w=null,A,g=0;g<y;g++){if(Ft.nodeType===go&&Ft.data===mo){o=Ft,k=!0,er(!1);break}var x=m[g],M=r(x,g);A=gr(Ft,s,w,null,x,M,g,a,t,n),s.items.set(M,A),w=A}y>0&&Qn(ta())}if(Ye)y===0&&i&&(c=dr(()=>i(o)));else if(po()){var j=new Set,U=hn;for(g=0;g<y;g+=1){x=m[g],M=r(x,g);var S=s.items.get(M)??h.get(M);S?(t&(jn|Un))!==0&&li(S,x,g,t):(A=gr(null,s,null,null,x,M,g,a,t,n,!0),h.set(M,A)),j.add(M)}for(const[T,C]of s.items)j.has(T)||U.skipped_effects.add(C.e);U.oncommit(_)}else _();k&&er(!0),f(v)}),Ye&&(o=Ft)}function Ho(e,t,n,r,a,i,o,s,u){var l=(o&Ao)!==0,c=(o&(jn|Un))!==0,d=t.length,h=n.items,v=n.first,m=v,p,_=null,y,k=[],D=[],w,A,g,x;if(l)for(x=0;x<d;x+=1)w=t[x],A=s(w,x),g=h.get(A),g!==void 0&&(g.a?.measure(),(y??=new Set).add(g));for(x=0;x<d;x+=1){if(w=t[x],A=s(w,x),g=h.get(A),g===void 0){var M=r.get(A);if(M!==void 0){r.delete(A),h.set(A,M);var j=_?_.next:m;Ve(n,_,M),Ve(n,M,j),nr(M,j,a),_=M}else{var U=m?m.e.nodes_start:a;_=gr(U,n,_,_===null?n.first:_.next,w,A,x,i,o,u)}h.set(A,_),k=[],D=[],m=_.next;continue}if(c&&li(g,w,x,o),(g.e.f&tr)!==0&&(ai(g.e),l&&(g.a?.unfix(),(y??=new Set).delete(g))),g!==m){if(p!==void 0&&p.has(g)){if(k.length<D.length){var S=D[0],T;_=S.prev;var C=k[0],G=k[k.length-1];for(T=0;T<k.length;T+=1)nr(k[T],S,a);for(T=0;T<D.length;T+=1)p.delete(D[T]);Ve(n,C.prev,G.next),Ve(n,_,C),Ve(n,G,S),m=S,_=G,x-=1,k=[],D=[]}else p.delete(g),nr(g,m,a),Ve(n,g.prev,g.next),Ve(n,g,_===null?n.first:_.next),Ve(n,_,g),_=g;continue}for(k=[],D=[];m!==null&&m.k!==A;)(m.e.f&tr)===0&&(p??=new Set).add(m),D.push(m),m=m.next;if(m===null)continue;g=m}k.push(g),_=g,m=g.next}if(m!==null||p!==void 0){for(var J=p===void 0?[]:ni(p);m!==null;)(m.e.f&tr)===0&&J.push(m),m=m.next;var ae=J.length;if(ae>0){var L=(o&oi)!==0&&d===0?a:null;if(l){for(x=0;x<ae;x+=1)J[x].a?.measure();for(x=0;x<ae;x+=1)J[x].a?.fix()}Fo(n,J,L)}}l&&So(()=>{if(y!==void 0)for(g of y)g.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var Z of r.values())ii(Z.e);r.clear()}function li(e,t,n,r){(r&jn)!==0&&na(e.v,t),(r&Un)!==0?na(e.i,n):e.i=n}function gr(e,t,n,r,a,i,o,s,u,l,c){var d=(u&jn)!==0,h=(u&_o)===0,v=d?h?q(a,!1,!1):ra(a):a,m=(u&Un)===0?o:ra(o),p={i:m,v,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=ei())}return p.e=dr(()=>s(e,v,m,l),Ye),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?c||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function nr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var o=wo(i);a.before(i),i=o}}function Ve(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const ia=[...` 	
\r\f \v\uFEFF`];function Ro(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,o=0;(o=r.indexOf(a,o))>=0;){var s=o+i;(o===0||ia.includes(r[o-1]))&&(s===r.length||ia.includes(r[s]))?r=(o===0?"":r.substring(0,o))+r.substring(s+1):o=s}}return r===""?null:r}function zo(e,t){return e==null?null:String(e)}function ui(e,t,n,r,a,i){var o=e.__className;if(Ye||o!==n||o===void 0){var s=Ro(n,r,i);(!Ye||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=n}else if(i&&a!==i)for(var u in i){var l=!!i[u];(a==null||l!==!!a[u])&&e.classList.toggle(u,l)}return i}function ci(e,t,n,r){var a=e.__style;if(Ye||a!==t){var i=zo(t);(!Ye||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return r}function fi(e,t,n=!1){if(e.multiple){if(t==null)return;if(!ri(t))return $o();for(var r of e.options)r.selected=t.includes(Wt(r));return}for(r of e.options){var a=Wt(r);if(Do(a,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Go(e){var t=new MutationObserver(()=>{fi(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Co(()=>{t.disconnect()})}function hi(e,t,n=t){var r=new WeakSet,a=!0;To(e,"change",i=>{var o=i?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(o),Wt);else{var u=e.querySelector(o)??e.querySelector("option:not([disabled])");s=u&&Wt(u)}n(s),hn!==null&&r.add(hn)}),No(()=>{var i=t();if(e===document.activeElement){var o=Eo??hn;if(r.has(o))return}if(fi(e,i,a),a&&i===void 0){var s=e.querySelector(":checked");s!==null&&(i=Wt(s),n(i))}e.__value=i,a=!1}),Go(e)}function Wt(e){return"__value"in e?e.__value:e.value}const Yo=jo;async function Po({url:e,parent:t}){const r=(await t())?.defaultSteamId||"";return{initialSteamId:e.searchParams.get("steamid")||r||""}}const Xg=Object.freeze(Object.defineProperty({__proto__:null,load:Po},Symbol.toStringTag,{value:"Module"}));let oa=null;const Lo=new Map;function sa(e){!e||e===oa||(oa=e,Lo.clear())}const Oo=[{label:"JamieB2005",id:"76561198413110180"},{label:"dwinkels0326",id:"76561199024514310"},{label:"JasperW",id:"76561199011746777"},{label:"Jessev10",id:"76561198322036477"},{label:"Jeremy",id:"76561198134778664"},{label:"Jerry van Rijsbergen",id:"76561198316063960"},{label:"Hennie",id:"76561198079219992"},{label:"Than",id:"76561198099044122"},{label:"David",id:"76561198863013731"},{label:"James",id:"76561198873928636"}];var Wo=F('<div class="panel login-panel svelte-4fbrl2"><h2>Welkom!</h2> <p class="hint svelte-4fbrl2">Je bent ingelogd met SteamID: <strong> </strong></p> <button class="btn steam svelte-4fbrl2" type="button">Log uit</button></div>'),Vo=F('<div class="panel login-panel svelte-4fbrl2"><h2>Login met Steam</h2> <button class="btn steam svelte-4fbrl2" type="button">Login met Steam</button> <p class="hint svelte-4fbrl2">Na inloggen word je teruggestuurd en wordt jouw SteamID gebruikt.</p></div>'),qo=F('<button type="button"> </button>'),Xo=F('<p class="hint svelte-4fbrl2">Kies eerst een account of login met Steam.</p>'),Bo=F('<p class="hint error svelte-4fbrl2"> </p>'),Jo=F(`<div class="slide1 svelte-4fbrl2"><h1 class="svelte-4fbrl2">Welkom bij jouw Steam Story</h1> <p>Login met je Steam account of kies één van de preset accounts om
    door te gaan.</p> <!> <div class="panel presets-panel svelte-4fbrl2"><h2>Of kies een preset account</h2> <div class="preset-list svelte-4fbrl2"></div></div> <div class="start-panel svelte-4fbrl2"><button type="button" class="btn start svelte-4fbrl2"><!></button> <!></div></div>`);function Ko(e,t){Me(t,!1);let n=ie(t,"steamId",12,"");const r=Uo();let a=q(!1),i=q("");function o(M){n(M),b(i,"")}function s(){aa("/auth/steam")}function u(){n(""),b(i,""),aa("/")}async function l(){if(!(!n()||f(a))){b(a,!0),b(i,"");try{const M=await fetch(`/api/profile?steamid=${n()}`);if(!M.ok){b(i,"Kon je Steam-profiel niet laden. Probeer het later opnieuw.");return}const S=(await M.json())?.player?.communityvisibilitystate;if(console.log(S),S!==3){S===1||S===2?b(i,'Je Steam-profiel is niet openbaar. Zet je profiel in Steam op "Public" om verder te gaan.'):b(i,"Je Steam-profiel is niet (volledig) zichtbaar. Controleer je privacy-instellingen.");return}r("start")}catch(M){console.error(M),b(i,"Er ging iets mis bij het controleren van je profiel.")}finally{b(a,!1)}}}Ce();var c=Jo(),d=R(E(c),4);{var h=M=>{var j=Wo(),U=R(E(j),2),S=R(E(U)),T=E(S,!0);N(S),N(U);var C=R(U,2);N(j),ee(()=>X(T,n())),qe("click",C,u),$(M,j)},v=M=>{var j=Vo(),U=R(E(j),2);Cr(2),N(j),qe("click",U,s),$(M,j)};V(d,M=>{n()?M(h):M(v,!1)})}var m=R(d,2),p=R(E(m),2);ze(p,5,()=>Oo,Re,(M,j)=>{var U=qo(),S=E(U,!0);N(U),ee(()=>{ui(U,1,`preset ${Ee(n()),f(j),z(()=>n()===f(j).id?"active":"")??""}`,"svelte-4fbrl2"),X(S,(f(j),z(()=>f(j).label)))}),qe("click",U,()=>o(f(j).id)),$(M,U)}),N(p),N(m);var _=R(m,2),y=E(_),k=E(y);{var D=M=>{var j=ea("Profiel controleren…");$(M,j)},w=M=>{var j=ea("Start je story");$(M,j)};V(k,M=>{f(a)?M(D):M(w,!1)})}N(y);var A=R(y,2);{var g=M=>{var j=Xo();$(M,j)},x=M=>{var j=he(),U=re(j);{var S=T=>{var C=Bo(),G=E(C,!0);N(C),ee(()=>X(G,f(i))),$(T,C)};V(U,T=>{f(i)&&T(S)},!0)}$(M,j)};V(A,M=>{n()?M(x,!1):M(g)})}N(_),N(c),ee(()=>y.disabled=!n()||f(a)),qe("click",y,l),$(e,c),ke()}function vn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $r(e){let t,n,r;e.length!==2?(t=vn,n=(s,u)=>vn(e(s),u),r=(s,u)=>e(s)-u):(t=e===vn||e===Zo?e:Qo,n=e,r=e);function a(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const d=l+c>>>1;n(s[d],u)<0?l=d+1:c=d}while(l<c)}return l}function i(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const d=l+c>>>1;n(s[d],u)<=0?l=d+1:c=d}while(l<c)}return l}function o(s,u,l=0,c=s.length){const d=a(s,u,l,c-1);return d>l&&r(s[d-1],u)>-r(s[d],u)?d-1:d}return{left:a,center:o,right:i}}function Qo(){return 0}function es(e){return e===null?NaN:+e}const ts=$r(vn),ns=ts.right;$r(es).center;function la(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class ua extends Map{constructor(t,n=is){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(ca(this,t))}has(t){return super.has(ca(this,t))}set(t,n){return super.set(rs(this,t),n)}delete(t){return super.delete(as(this,t))}}function ca({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function as({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function is(e){return e!==null&&typeof e=="object"?e.valueOf():e}const os=Math.sqrt(50),ss=Math.sqrt(10),ls=Math.sqrt(2);function yn(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=os?10:i>=ss?5:i>=ls?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?yn(e,t,n*2):[s,u,l]}function us(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?yn(t,e,n):yn(e,t,n);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function mr(e,t,n){return t=+t,e=+e,n=+n,yn(e,t,n)[2]}function pr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?mr(t,e,n):mr(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Vt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function cs(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function fs(e){return e}var rr=1,ar=2,yr=3,Yt=4,fa=1e-6;function hs(e){return"translate("+e+",0)"}function vs(e){return"translate(0,"+e+")"}function ds(e){return t=>+e(t)}function gs(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ms(){return!this.__axis}function vi(e,t){var n=[],r=null,a=null,i=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===rr||e===Yt?-1:1,c=e===Yt||e===ar?"x":"y",d=e===rr||e===yr?hs:vs;function h(v){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),p=a??(t.tickFormat?t.tickFormat.apply(t,n):fs),_=Math.max(i,0)+s,y=t.range(),k=+y[0]+u,D=+y[y.length-1]+u,w=(t.bandwidth?gs:ds)(t.copy(),u),A=v.selection?v.selection():v,g=A.selectAll(".domain").data([null]),x=A.selectAll(".tick").data(m,t).order(),M=x.exit(),j=x.enter().append("g").attr("class","tick"),U=x.select("line"),S=x.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(j),U=U.merge(j.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),S=S.merge(j.append("text").attr("fill","currentColor").attr(c,l*_).attr("dy",e===rr?"0em":e===yr?"0.71em":"0.32em")),v!==A&&(g=g.transition(v),x=x.transition(v),U=U.transition(v),S=S.transition(v),M=M.transition(v).attr("opacity",fa).attr("transform",function(T){return isFinite(T=w(T))?d(T+u):this.getAttribute("transform")}),j.attr("opacity",fa).attr("transform",function(T){var C=this.parentNode.__axis;return d((C&&isFinite(C=C(T))?C:w(T))+u)})),M.remove(),g.attr("d",e===Yt||e===ar?o?"M"+l*o+","+k+"H"+u+"V"+D+"H"+l*o:"M"+u+","+k+"V"+D:o?"M"+k+","+l*o+"V"+u+"H"+D+"V"+l*o:"M"+k+","+u+"H"+D),x.attr("opacity",1).attr("transform",function(T){return d(w(T)+u)}),U.attr(c+"2",l*i),S.attr(c,l*_).text(p),A.filter(ms).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ar?"start":e===Yt?"end":"middle"),A.each(function(){this.__axis=w})}return h.scale=function(v){return arguments.length?(t=v,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(v){return arguments.length?(n=v==null?[]:Array.from(v),h):n.slice()},h.tickValues=function(v){return arguments.length?(r=v==null?null:Array.from(v),h):r&&r.slice()},h.tickFormat=function(v){return arguments.length?(a=v,h):a},h.tickSize=function(v){return arguments.length?(i=o=+v,h):i},h.tickSizeInner=function(v){return arguments.length?(i=+v,h):i},h.tickSizeOuter=function(v){return arguments.length?(o=+v,h):o},h.tickPadding=function(v){return arguments.length?(s=+v,h):s},h.offset=function(v){return arguments.length?(u=+v,h):u},h}function Dr(e){return vi(yr,e)}function Er(e){return vi(Yt,e)}var ps={value:()=>{}};function Hn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dn(n)}function dn(e){this._=e}function ys(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dn.prototype=Hn.prototype={constructor:dn,on:function(e,t){var n=this._,r=ys(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=_s(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=ha(n[a],e.name,t);else if(t==null)for(a in n)n[a]=ha(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dn(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function _s(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function ha(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=ps,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _r="http://www.w3.org/1999/xhtml";const va={svg:"http://www.w3.org/2000/svg",xhtml:_r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),va.hasOwnProperty(t)?{space:va[t],local:e}:e}function ws(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_r&&t.documentElement.namespaceURI===_r?t.createElement(e):t.createElementNS(n,e)}}function xs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function di(e){var t=Rn(e);return(t.local?xs:ws)(t)}function bs(){}function Ir(e){return e==null?bs:function(){return this.querySelector(e)}}function Ms(e){typeof e!="function"&&(e=Ir(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=new Array(o),u,l,c=0;c<o;++c)(u=i[c])&&(l=e.call(u,u.__data__,c,i))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new je(r,this._parents)}function ks(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ss(){return[]}function gi(e){return e==null?Ss:function(){return this.querySelectorAll(e)}}function As(e){return function(){return ks(e.apply(this,arguments))}}function Ts(e){typeof e=="function"?e=As(e):e=gi(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),a.push(u));return new je(r,a)}function mi(e){return function(){return this.matches(e)}}function pi(e){return function(t){return t.matches(e)}}var Ns=Array.prototype.find;function Cs(e){return function(){return Ns.call(this.children,e)}}function $s(){return this.firstElementChild}function Ds(e){return this.select(e==null?$s:Cs(typeof e=="function"?e:pi(e)))}var Es=Array.prototype.filter;function Is(){return Array.from(this.children)}function Us(e){return function(){return Es.call(this.children,e)}}function js(e){return this.selectAll(e==null?Is:Us(typeof e=="function"?e:pi(e)))}function Fs(e){typeof e!="function"&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new je(r,this._parents)}function yi(e){return new Array(e.length)}function Hs(){return new je(this._enter||this._groups.map(yi),this._parents)}function _n(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_n.prototype={constructor:_n,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Rs(e){return function(){return e}}function zs(e,t,n,r,a,i){for(var o=0,s,u=t.length,l=i.length;o<l;++o)(s=t[o])?(s.__data__=i[o],r[o]=s):n[o]=new _n(e,i[o]);for(;o<u;++o)(s=t[o])&&(a[o]=s)}function Gs(e,t,n,r,a,i,o){var s,u,l=new Map,c=t.length,d=i.length,h=new Array(c),v;for(s=0;s<c;++s)(u=t[s])&&(h[s]=v=o.call(u,u.__data__,s,t)+"",l.has(v)?a[s]=u:l.set(v,u));for(s=0;s<d;++s)v=o.call(e,i[s],s,i)+"",(u=l.get(v))?(r[s]=u,u.__data__=i[s],l.delete(v)):n[s]=new _n(e,i[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(h[s])===u&&(a[s]=u)}function Ys(e){return e.__data__}function Ps(e,t){if(!arguments.length)return Array.from(this,Ys);var n=t?Gs:zs,r=this._parents,a=this._groups;typeof e!="function"&&(e=Rs(e));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var c=r[l],d=a[l],h=d.length,v=Ls(e.call(c,c&&c.__data__,l,r)),m=v.length,p=s[l]=new Array(m),_=o[l]=new Array(m),y=u[l]=new Array(h);n(c,d,p,_,y,v,t);for(var k=0,D=0,w,A;k<m;++k)if(w=p[k]){for(k>=D&&(D=k+1);!(A=_[D])&&++D<m;);w._next=A||null}}return o=new je(o,r),o._enter=s,o._exit=u,o}function Ls(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Os(){return new je(this._exit||this._groups.map(yi),this._parents)}function Ws(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function Vs(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),u=0;u<o;++u)for(var l=n[u],c=r[u],d=l.length,h=s[u]=new Array(d),v,m=0;m<d;++m)(v=l[m]||c[m])&&(h[m]=v);for(;u<a;++u)s[u]=n[u];return new je(s,this._parents)}function qs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Xs(e){e||(e=Bs);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,u=a[i]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new je(a,this._parents).order()}function Bs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Js(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ks(){return Array.from(this)}function Zs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function Qs(){let e=0;for(const t of this)++e;return e}function el(){return!this.node()}function tl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function nl(e){return function(){this.removeAttribute(e)}}function rl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function al(e,t){return function(){this.setAttribute(e,t)}}function il(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ol(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ll(e,t){var n=Rn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?rl:nl:typeof t=="function"?n.local?sl:ol:n.local?il:al)(n,t))}function _i(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ul(e){return function(){this.style.removeProperty(e)}}function cl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function hl(e,t,n){return arguments.length>1?this.each((t==null?ul:typeof t=="function"?fl:cl)(e,t,n??"")):At(this.node(),e)}function At(e,t){return e.style.getPropertyValue(t)||_i(e).getComputedStyle(e,null).getPropertyValue(t)}function vl(e){return function(){delete this[e]}}function dl(e,t){return function(){this[e]=t}}function gl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ml(e,t){return arguments.length>1?this.each((t==null?vl:typeof t=="function"?gl:dl)(e,t)):this.node()[e]}function wi(e){return e.trim().split(/^|\s+/)}function Ur(e){return e.classList||new xi(e)}function xi(e){this._node=e,this._names=wi(e.getAttribute("class")||"")}xi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bi(e,t){for(var n=Ur(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Mi(e,t){for(var n=Ur(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function pl(e){return function(){bi(this,e)}}function yl(e){return function(){Mi(this,e)}}function _l(e,t){return function(){(t.apply(this,arguments)?bi:Mi)(this,e)}}function wl(e,t){var n=wi(e+"");if(arguments.length<2){for(var r=Ur(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?_l:t?pl:yl)(n,t))}function xl(){this.textContent=""}function bl(e){return function(){this.textContent=e}}function Ml(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kl(e){return arguments.length?this.each(e==null?xl:(typeof e=="function"?Ml:bl)(e)):this.node().textContent}function Sl(){this.innerHTML=""}function Al(e){return function(){this.innerHTML=e}}function Tl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Nl(e){return arguments.length?this.each(e==null?Sl:(typeof e=="function"?Tl:Al)(e)):this.node().innerHTML}function Cl(){this.nextSibling&&this.parentNode.appendChild(this)}function $l(){return this.each(Cl)}function Dl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function El(){return this.each(Dl)}function Il(e){var t=typeof e=="function"?e:di(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ul(){return null}function jl(e,t){var n=typeof e=="function"?e:di(e),r=t==null?Ul:typeof t=="function"?t:Ir(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fl(){var e=this.parentNode;e&&e.removeChild(this)}function Hl(){return this.each(Fl)}function Rl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gl(e){return this.select(e?zl:Rl)}function Yl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Pl(e){return function(t){e.call(this,t,this.__data__)}}function Ll(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Ol(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Wl(e,t,n){return function(){var r=this.__on,a,i=Pl(t);if(r){for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function Vl(e,t,n){var r=Ll(e+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(a=0,c=s[u];a<i;++a)if((o=r[a]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?Wl:Ol,a=0;a<i;++a)this.each(s(r[a],t,n));return this}function ki(e,t,n){var r=_i(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function ql(e,t){return function(){return ki(this,e,t)}}function Xl(e,t){return function(){return ki(this,e,t.apply(this,arguments))}}function Bl(e,t){return this.each((typeof t=="function"?Xl:ql)(e,t))}function*Jl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var Si=[null];function je(e,t){this._groups=e,this._parents=t}function en(){return new je([[document.documentElement]],Si)}function Kl(){return this}je.prototype=en.prototype={constructor:je,select:Ms,selectAll:Ts,selectChild:Ds,selectChildren:js,filter:Fs,data:Ps,enter:Hs,exit:Os,join:Ws,merge:Vs,selection:Kl,order:qs,sort:Xs,call:Js,nodes:Ks,node:Zs,size:Qs,empty:el,each:tl,attr:ll,style:hl,property:ml,classed:wl,text:kl,html:Nl,raise:$l,lower:El,append:Il,insert:jl,remove:Hl,clone:Gl,datum:Yl,on:Vl,dispatch:Bl,[Symbol.iterator]:Jl};function Qe(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],Si)}function Zl(e){let t;for(;t=e.sourceEvent;)e=t;return e}function da(e,t){if(e=Zl(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ql={passive:!1},qt={capture:!0,passive:!1};function ir(e){e.stopImmediatePropagation()}function Mt(e){e.preventDefault(),e.stopImmediatePropagation()}function eu(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",Mt,qt);"onselectstart"in t?n.on("selectstart.drag",Mt,qt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tu(e,t){var n=e.document.documentElement,r=Qe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mt,qt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const on=e=>()=>e;function wr(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}wr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function nu(e){return!e.ctrlKey&&!e.button}function ru(){return this.parentNode}function au(e,t){return t??{x:e.x,y:e.y}}function iu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ou(){var e=nu,t=ru,n=au,r=iu,a={},i=Hn("start","drag","end"),o=0,s,u,l,c,d=0;function h(w){w.on("mousedown.drag",v).filter(r).on("touchstart.drag",_).on("touchmove.drag",y,Ql).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(w,A){if(!(c||!e.call(this,w,A))){var g=D(this,t.call(this,w,A),w,A,"mouse");g&&(Qe(w.view).on("mousemove.drag",m,qt).on("mouseup.drag",p,qt),eu(w.view),ir(w),l=!1,s=w.clientX,u=w.clientY,g("start",w))}}function m(w){if(Mt(w),!l){var A=w.clientX-s,g=w.clientY-u;l=A*A+g*g>d}a.mouse("drag",w)}function p(w){Qe(w.view).on("mousemove.drag mouseup.drag",null),tu(w.view,l),Mt(w),a.mouse("end",w)}function _(w,A){if(e.call(this,w,A)){var g=w.changedTouches,x=t.call(this,w,A),M=g.length,j,U;for(j=0;j<M;++j)(U=D(this,x,w,A,g[j].identifier,g[j]))&&(ir(w),U("start",w,g[j]))}}function y(w){var A=w.changedTouches,g=A.length,x,M;for(x=0;x<g;++x)(M=a[A[x].identifier])&&(Mt(w),M("drag",w,A[x]))}function k(w){var A=w.changedTouches,g=A.length,x,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),x=0;x<g;++x)(M=a[A[x].identifier])&&(ir(w),M("end",w,A[x]))}function D(w,A,g,x,M,j){var U=i.copy(),S=da(j||g,A),T,C,G;if((G=n.call(w,new wr("beforestart",{sourceEvent:g,target:h,identifier:M,active:o,x:S[0],y:S[1],dx:0,dy:0,dispatch:U}),x))!=null)return T=G.x-S[0]||0,C=G.y-S[1]||0,function J(ae,L,Z){var oe=S,fe;switch(ae){case"start":a[M]=J,fe=o++;break;case"end":delete a[M],--o;case"drag":S=da(Z||L,A),fe=o;break}U.call(ae,w,new wr(ae,{sourceEvent:L,subject:G,target:h,identifier:M,active:fe,x:S[0]+T,y:S[1]+C,dx:S[0]-oe[0],dy:S[1]-oe[1],dispatch:U}),x)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:on(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:on(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:on(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:on(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,h):Math.sqrt(d)},h}function zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Et(){}var ft=.7,Tt=1/ft,kt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",su=/^#([0-9a-f]{3,8})$/,lu=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),uu=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),cu=new RegExp(`^rgba\\(${kt},${kt},${kt},${Xt}\\)$`),fu=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${Xt}\\)$`),hu=new RegExp(`^hsl\\(${Xt},${Xe},${Xe}\\)$`),vu=new RegExp(`^hsla\\(${Xt},${Xe},${Xe},${Xt}\\)$`),ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zn(Et,ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHex8:du,formatHsl:gu,formatRgb:pa,toString:pa});function ma(){return this.rgb().formatHex()}function du(){return this.rgb().formatHex8()}function gu(){return Ti(this).formatHsl()}function pa(){return this.rgb().formatRgb()}function ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=su.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ya(t):n===3?new be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lu.exec(e))?new be(t[1],t[2],t[3],1):(t=uu.exec(e))?new be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cu.exec(e))?sn(t[1],t[2],t[3],t[4]):(t=fu.exec(e))?sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hu.exec(e))?xa(t[1],t[2]/100,t[3]/100,1):(t=vu.exec(e))?xa(t[1],t[2]/100,t[3]/100,t[4]):ga.hasOwnProperty(e)?ya(ga[e]):e==="transparent"?new be(NaN,NaN,NaN,0):null}function ya(e){return new be(e>>16&255,e>>8&255,e&255,1)}function sn(e,t,n,r){return r<=0&&(e=t=n=NaN),new be(e,t,n,r)}function Ai(e){return e instanceof Et||(e=ht(e)),e?(e=e.rgb(),new be(e.r,e.g,e.b,e.opacity)):new be}function wn(e,t,n,r){return arguments.length===1?Ai(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zn(be,wn,jr(Et,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ft:Math.pow(ft,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new be(ut(this.r),ut(this.g),ut(this.b),xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_a,formatHex:_a,formatHex8:mu,formatRgb:wa,toString:wa}));function _a(){return`#${lt(this.r)}${lt(this.g)}${lt(this.b)}`}function mu(){return`#${lt(this.r)}${lt(this.g)}${lt(this.b)}${lt((isNaN(this.opacity)?1:this.opacity)*255)}`}function wa(){const e=xn(this.opacity);return`${e===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${e===1?")":`, ${e})`}`}function xn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lt(e){return e=ut(e),(e<16?"0":"")+e.toString(16)}function xa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Le(e,t,n,r)}function Ti(e){if(e instanceof Le)return new Le(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=ht(e)),!e)return new Le;if(e instanceof Le)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Le(o,s,u,e.opacity)}function pu(e,t,n,r){return arguments.length===1?Ti(e):new Le(e,t,n,r??1)}function Le(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zn(Le,pu,jr(Et,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new Le(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ft:Math.pow(ft,e),new Le(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new be(or(e>=240?e-240:e+120,a,r),or(e,a,r),or(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Le(ba(this.h),ln(this.s),ln(this.l),xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xn(this.opacity);return`${e===1?"hsl(":"hsla("}${ba(this.h)}, ${ln(this.s)*100}%, ${ln(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ba(e){return e=(e||0)%360,e<0?e+360:e}function ln(e){return Math.max(0,Math.min(1,e||0))}function or(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yu=Math.PI/180,_u=180/Math.PI;var Ni=-.14861,Fr=1.78277,Hr=-.29227,Gn=-.90649,Bt=1.97294,Ma=Bt*Gn,ka=Bt*Fr,Sa=Fr*Hr-Gn*Ni;function wu(e){if(e instanceof ct)return new ct(e.h,e.s,e.l,e.opacity);e instanceof be||(e=Ai(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Sa*r+Ma*t-ka*n)/(Sa+Ma-ka),i=r-a,o=(Bt*(n-a)-Hr*i)/Gn,s=Math.sqrt(o*o+i*i)/(Bt*a*(1-a)),u=s?Math.atan2(o,i)*_u-120:NaN;return new ct(u<0?u+360:u,s,a,e.opacity)}function rt(e,t,n,r){return arguments.length===1?wu(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zn(ct,rt,jr(Et,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ft:Math.pow(ft,e),new ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*yu,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new be(255*(t+n*(Ni*r+Fr*a)),255*(t+n*(Hr*r+Gn*a)),255*(t+n*(Bt*r)),this.opacity)}}));function xu(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function bu(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return xu((n-r/t)*t,o,a,i,s)}}const Yn=e=>()=>e;function Ci(e,t){return function(n){return e+n*t}}function Mu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ku(e,t){var n=t-e;return n?Ci(e,n>180||n<-180?n-360*Math.round(n/360):n):Yn(isNaN(e)?t:e)}function Su(e){return(e=+e)==1?St:function(t,n){return n-t?Mu(t,n,e):Yn(isNaN(t)?n:t)}}function St(e,t){var n=t-e;return n?Ci(e,n):Yn(isNaN(e)?t:e)}const bn=(function e(t){var n=Su(t);function r(a,i){var o=n((a=wn(a)).r,(i=wn(i)).r),s=n(a.g,i.g),u=n(a.b,i.b),l=St(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=u(c),a.opacity=l(c),a+""}}return r.gamma=e,r})(1);function Au(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=wn(t[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=e(r),a=e(a),i=e(i),s.opacity=1,function(u){return s.r=r(u),s.g=a(u),s.b=i(u),s+""}}}var Tu=Au(bu);function Nu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Cu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $u(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Pn(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Du(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Eu(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Pn(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sr=new RegExp(xr.source,"g");function Iu(e){return function(){return e}}function Uu(e){return function(t){return e(t)+""}}function $i(e,t){var n=xr.lastIndex=sr.lastIndex=0,r,a,i,o=-1,s=[],u=[];for(e=e+"",t=t+"";(r=xr.exec(e))&&(a=sr.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:Pe(r,a)})),n=sr.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Uu(u[0].x):Iu(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Pn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yn(t):(n==="number"?Pe:n==="string"?(r=ht(t))?(t=r,bn):$i:t instanceof ht?bn:t instanceof Date?Du:Cu(t)?Nu:Array.isArray(t)?$u:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Eu:Pe)(e,t)}function Di(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Aa=180/Math.PI,br={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(e,t,n,r,a,i){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Aa,skewX:Math.atan(u)*Aa,scaleX:o,scaleY:s}}var un;function ju(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?br:Ei(t.a,t.b,t.c,t.d,t.e,t.f)}function Fu(e){return e==null||(un||(un=document.createElementNS("http://www.w3.org/2000/svg","g")),un.setAttribute("transform",e),!(e=un.transform.baseVal.consolidate()))?br:(e=e.matrix,Ei(e.a,e.b,e.c,e.d,e.e,e.f))}function Ii(e,t,n,r){function a(l){return l.length?l.pop()+" ":""}function i(l,c,d,h,v,m){if(l!==d||c!==h){var p=v.push("translate(",null,t,null,n);m.push({i:p-4,x:Pe(l,d)},{i:p-2,x:Pe(c,h)})}else(d||h)&&v.push("translate("+d+t+h+n)}function o(l,c,d,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:d.push(a(d)+"rotate(",null,r)-2,x:Pe(l,c)})):c&&d.push(a(d)+"rotate("+c+r)}function s(l,c,d,h){l!==c?h.push({i:d.push(a(d)+"skewX(",null,r)-2,x:Pe(l,c)}):c&&d.push(a(d)+"skewX("+c+r)}function u(l,c,d,h,v,m){if(l!==d||c!==h){var p=v.push(a(v)+"scale(",null,",",null,")");m.push({i:p-4,x:Pe(l,d)},{i:p-2,x:Pe(c,h)})}else(d!==1||h!==1)&&v.push(a(v)+"scale("+d+","+h+")")}return function(l,c){var d=[],h=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,d,h),o(l.rotate,c.rotate,d,h),s(l.skewX,c.skewX,d,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,h),l=c=null,function(v){for(var m=-1,p=h.length,_;++m<p;)d[(_=h[m]).i]=_.x(v);return d.join("")}}}var Hu=Ii(ju,"px, ","px)","deg)"),Ru=Ii(Fu,", ",")",")");function Ui(e){return(function t(n){n=+n;function r(a,i){var o=e((a=rt(a)).h,(i=rt(i)).h),s=St(a.s,i.s),u=St(a.l,i.l),l=St(a.opacity,i.opacity);return function(c){return a.h=o(c),a.s=s(c),a.l=u(Math.pow(c,n)),a.opacity=l(c),a+""}}return r.gamma=t,r})(1)}Ui(ku);var ji=Ui(St),Nt=0,Pt=0,Ht=0,Fi=1e3,Mn,Lt,kn=0,vt=0,Ln=0,Jt=typeof performance=="object"&&performance.now?performance:Date,Hi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Rr(){return vt||(Hi(zu),vt=Jt.now()+Ln)}function zu(){vt=0}function Sn(){this._call=this._time=this._next=null}Sn.prototype=zr.prototype={constructor:Sn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Rr():+n)+(t==null?0:+t),!this._next&&Lt!==this&&(Lt?Lt._next=this:Mn=this,Lt=this),this._call=e,this._time=n,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};function zr(e,t,n){var r=new Sn;return r.restart(e,t,n),r}function Gu(){Rr(),++Nt;for(var e=Mn,t;e;)(t=vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Nt}function Ta(){vt=(kn=Jt.now())+Ln,Nt=Pt=0;try{Gu()}finally{Nt=0,Pu(),vt=0}}function Yu(){var e=Jt.now(),t=e-kn;t>Fi&&(Ln-=t,kn=e)}function Pu(){for(var e,t=Mn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mn=n);Lt=e,Mr(r)}function Mr(e){if(!Nt){Pt&&(Pt=clearTimeout(Pt));var t=e-vt;t>24?(e<1/0&&(Pt=setTimeout(Ta,e-Jt.now()-Ln)),Ht&&(Ht=clearInterval(Ht))):(Ht||(kn=Jt.now(),Ht=setInterval(Yu,Fi)),Nt=1,Hi(Ta))}}function Na(e,t,n){var r=new Sn;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Lu=Hn("start","end","cancel","interrupt"),Ou=[],Ri=0,Ca=1,kr=2,gn=3,$a=4,Sr=5,mn=6;function On(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Wu(e,n,{name:t,index:r,group:a,on:Lu,tween:Ou,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ri})}function Gr(e,t){var n=Oe(e,t);if(n.state>Ri)throw new Error("too late; already scheduled");return n}function Be(e,t){var n=Oe(e,t);if(n.state>gn)throw new Error("too late; already running");return n}function Oe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Wu(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=zr(i,0,n.time);function i(l){n.state=Ca,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,d,h,v;if(n.state!==Ca)return u();for(c in r)if(v=r[c],v.name===n.name){if(v.state===gn)return Na(o);v.state===$a?(v.state=mn,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[c]):+c<t&&(v.state=mn,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[c])}if(Na(function(){n.state===gn&&(n.state=$a,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=kr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===kr){for(n.state=gn,a=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(v=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=v);a.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Sr,1),d=-1,h=a.length;++d<h;)a[d].call(e,c);n.state===Sr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=mn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Vu(e,t){var n=e.__transition,r,a,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>kr&&r.state<Sr,r.state=mn,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function qu(e){return this.each(function(){Vu(this,e)})}function Xu(e,t){var n,r;return function(){var a=Be(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function Bu(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Be(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},u=0,l=a.length;u<l;++u)if(a[u].name===t){a[u]=s;break}u===l&&a.push(s)}i.tween=a}}function Ju(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Oe(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Xu:Bu)(n,e,t))}function Yr(e,t,n){var r=e._id;return e.each(function(){var a=Be(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Oe(a,r).value[t]}}function zi(e,t){var n;return(typeof t=="number"?Pe:t instanceof ht?bn:(n=ht(t))?(t=n,bn):$i)(e,t)}function Ku(e){return function(){this.removeAttribute(e)}}function Zu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qu(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function ec(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function tc(e,t,n){var r,a,i;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=s+"",o===u?null:o===r&&u===a?i:(a=u,i=t(r=o,s)))}}function nc(e,t,n){var r,a,i;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=s+"",o===u?null:o===r&&u===a?i:(a=u,i=t(r=o,s)))}}function rc(e,t){var n=Rn(e),r=n==="transform"?Ru:zi;return this.attrTween(e,typeof t=="function"?(n.local?nc:tc)(n,r,Yr(this,"attr."+e,t)):t==null?(n.local?Zu:Ku)(n):(n.local?ec:Qu)(n,r,t))}function ac(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ic(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oc(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ic(e,i)),n}return a._value=t,a}function sc(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ac(e,i)),n}return a._value=t,a}function lc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rn(e);return this.tween(n,(r.local?oc:sc)(r,t))}function uc(e,t){return function(){Gr(this,e).delay=+t.apply(this,arguments)}}function cc(e,t){return t=+t,function(){Gr(this,e).delay=t}}function fc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uc:cc)(t,e)):Oe(this.node(),t).delay}function hc(e,t){return function(){Be(this,e).duration=+t.apply(this,arguments)}}function vc(e,t){return t=+t,function(){Be(this,e).duration=t}}function dc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hc:vc)(t,e)):Oe(this.node(),t).duration}function gc(e,t){if(typeof t!="function")throw new Error;return function(){Be(this,e).ease=t}}function mc(e){var t=this._id;return arguments.length?this.each(gc(t,e)):Oe(this.node(),t).ease}function pc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Be(this,e).ease=n}}function yc(e){if(typeof e!="function")throw new Error;return this.each(pc(this._id,e))}function _c(e){typeof e!="function"&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new et(r,this._parents,this._name,this._id)}function wc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var u=t[s],l=n[s],c=u.length,d=o[s]=new Array(c),h,v=0;v<c;++v)(h=u[v]||l[v])&&(d[v]=h);for(;s<r;++s)o[s]=t[s];return new et(o,this._parents,this._name,this._id)}function xc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function bc(e,t,n){var r,a,i=xc(t)?Gr:Be;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n),o.on=a}}function Mc(e,t){var n=this._id;return arguments.length<2?Oe(this.node(),n).on.on(e):this.each(bc(n,e,t))}function kc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sc(){return this.on("end.remove",kc(this._id))}function Ac(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ir(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],u=s.length,l=i[o]=new Array(u),c,d,h=0;h<u;++h)(c=s[h])&&(d=e.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),l[h]=d,On(l[h],t,n,h,l,Oe(c,n)));return new et(i,this._parents,t,n)}function Tc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gi(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var h=e.call(c,c.__data__,d,u),v,m=Oe(c,n),p=0,_=h.length;p<_;++p)(v=h[p])&&On(v,t,n,p,h,m);i.push(h),o.push(c)}return new et(i,o,t,n)}var Nc=en.prototype.constructor;function Cc(){return new Nc(this._groups,this._parents)}function $c(e,t){var n,r,a;return function(){var i=At(this,e),o=(this.style.removeProperty(e),At(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function Gi(e){return function(){this.style.removeProperty(e)}}function Dc(e,t,n){var r,a=n+"",i;return function(){var o=At(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function Ec(e,t,n){var r,a,i;return function(){var o=At(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),At(this,e))),o===u?null:o===r&&u===a?i:(a=u,i=t(r=o,s))}}function Ic(e,t){var n,r,a,i="style."+t,o="end."+i,s;return function(){var u=Be(this,e),l=u.on,c=u.value[i]==null?s||(s=Gi(t)):void 0;(l!==n||a!==c)&&(r=(n=l).copy()).on(o,a=c),u.on=r}}function Uc(e,t,n){var r=(e+="")=="transform"?Hu:zi;return t==null?this.styleTween(e,$c(e,r)).on("end.style."+e,Gi(e)):typeof t=="function"?this.styleTween(e,Ec(e,r,Yr(this,"style."+e,t))).each(Ic(this._id,e)):this.styleTween(e,Dc(e,r,t),n).on("end.style."+e,null)}function jc(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Fc(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&jc(e,o,n)),r}return i._value=t,i}function Hc(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Fc(e,t,n??""))}function Rc(e){return function(){this.textContent=e}}function zc(e){return function(){var t=e(this);this.textContent=t??""}}function Gc(e){return this.tween("text",typeof e=="function"?zc(Yr(this,"text",e)):Rc(e==null?"":e+""))}function Yc(e){return function(t){this.textContent=e.call(this,t)}}function Pc(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&Yc(a)),t}return r._value=e,r}function Lc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pc(e))}function Oc(){for(var e=this._name,t=this._id,n=Yi(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=Oe(u,t);On(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new et(r,this._parents,e,n)}function Wc(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},u={value:function(){--a===0&&i()}};n.each(function(){var l=Be(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),a===0&&i()})}var Vc=0;function et(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yi(){return++Vc}var Je=en.prototype;et.prototype={constructor:et,select:Ac,selectAll:Tc,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:_c,merge:wc,selection:Cc,transition:Oc,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:Mc,attr:rc,attrTween:lc,style:Uc,styleTween:Hc,text:Gc,textTween:Lc,remove:Sc,tween:Ju,delay:fc,duration:dc,ease:mc,easeVarying:yc,end:Wc,[Symbol.iterator]:Je[Symbol.iterator]};function qc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xc={time:null,delay:0,duration:250,ease:qc};function Bc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Jc(e){var t,n;e instanceof et?(t=e._id,e=e._name):(t=Yi(),(n=Xc).time=Rr(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&On(u,e,t,l,o,n||Bc(u,t));return new et(r,this._parents,e,t)}en.prototype.interrupt=qu;en.prototype.transition=Jc;const Ar=Math.PI,Tr=2*Ar,st=1e-6,Kc=Tr-st;function Pi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zc(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pi;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Qc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pi:Zc(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,u=r-t,l=a-n,c=o-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>st)if(!(Math.abs(d*u-l*c)>st)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-o,m=a-s,p=u*u+l*l,_=v*v+m*m,y=Math.sqrt(p),k=Math.sqrt(h),D=i*Math.tan((Ar-Math.acos((p+h-_)/(2*y*k)))/2),w=D/k,A=D/y;Math.abs(w-1)>st&&this._append`L${t+w*c},${n+w*d}`,this._append`A${i},${i},0,0,${+(d*v>c*m)},${this._x1=t+A*u},${this._y1=n+A*l}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),u=r*Math.sin(a),l=t+s,c=n+u,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>st||Math.abs(this._y1-c)>st)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%Tr+Tr),h>Kc?this._append`A${r},${r},0,1,${d},${t-s},${n-u}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:h>st&&this._append`A${r},${r},0,${+(h>=Ar)},${d},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ef(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function a(){var i,o=n.length,s,u=0,l=0;for(i=0;i<o;++i)s=n[i],u+=s.x,l+=s.y;for(u=(u/o-e)*r,l=(l/o-t)*r,i=0;i<o;++i)s=n[i],s.x-=u,s.y-=l}return a.initialize=function(i){n=i},a.x=function(i){return arguments.length?(e=+i,a):e},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(r=+i,a):r},a}function tf(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Li(this.cover(t,n),t,n,e)}function Li(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,u=e._y0,l=e._x1,c=e._y1,d,h,v,m,p,_,y,k;if(!i)return e._root=o,e;for(;i.length;)if((p=t>=(d=(s+l)/2))?s=d:l=d,(_=n>=(h=(u+c)/2))?u=h:c=h,a=i,!(i=i[y=_<<1|p]))return a[y]=o,e;if(v=+e._x.call(null,i.data),m=+e._y.call(null,i.data),t===v&&n===m)return o.next=i,a?a[y]=o:e._root=o,e;do a=a?a[y]=new Array(4):e._root=new Array(4),(p=t>=(d=(s+l)/2))?s=d:l=d,(_=n>=(h=(u+c)/2))?u=h:c=h;while((y=_<<1|p)===(k=(m>=h)<<1|v>=d));return a[k]=i,a[y]=o,e}function nf(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),u=1/0,l=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=a,s[n]=i,a<u&&(u=a),a>c&&(c=a),i<l&&(l=i),i>d&&(d=i));if(u>c||l>d)return this;for(this.cover(u,l).cover(c,d),n=0;n<r;++n)Li(this,o[n],s[n],e[n]);return this}function rf(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o=a-n||1,s=this._root,u,l;n>e||e>=a||r>t||t>=i;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=s,s=u,o*=2,l){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function af(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function of(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ne(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function sf(e,t,n){var r,a=this._x0,i=this._y0,o,s,u,l,c=this._x1,d=this._y1,h=[],v=this._root,m,p;for(v&&h.push(new Ne(v,a,i,c,d)),n==null?n=1/0:(a=e-n,i=t-n,c=e+n,d=t+n,n*=n);m=h.pop();)if(!(!(v=m.node)||(o=m.x0)>c||(s=m.y0)>d||(u=m.x1)<a||(l=m.y1)<i))if(v.length){var _=(o+u)/2,y=(s+l)/2;h.push(new Ne(v[3],_,y,u,l),new Ne(v[2],o,y,_,l),new Ne(v[1],_,s,u,y),new Ne(v[0],o,s,_,y)),(p=(t>=y)<<1|e>=_)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=m)}else{var k=e-+this._x.call(null,v.data),D=t-+this._y.call(null,v.data),w=k*k+D*D;if(w<n){var A=Math.sqrt(n=w);a=e-A,i=t-A,c=e+A,d=t+A,r=v.data}}return r}function lf(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,u=this._x1,l=this._y1,c,d,h,v,m,p,_,y;if(!n)return this;if(n.length)for(;;){if((m=c>=(h=(o+u)/2))?o=h:u=h,(p=d>=(v=(s+l)/2))?s=v:l=v,t=n,!(n=n[_=p<<1|m]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,y=_)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[_]=i:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=i,this)}function uf(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function cf(){return this._root}function ff(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function hf(e){var t=[],n,r=this._root,a,i,o,s,u;for(r&&t.push(new Ne(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(i+s)/2,c=(o+u)/2;(a=r[3])&&t.push(new Ne(a,l,c,s,u)),(a=r[2])&&t.push(new Ne(a,i,c,l,u)),(a=r[1])&&t.push(new Ne(a,l,o,s,c)),(a=r[0])&&t.push(new Ne(a,i,o,l,c))}return this}function vf(e){var t=[],n=[],r;for(this._root&&t.push(new Ne(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,d=(s+l)/2;(i=a[0])&&t.push(new Ne(i,o,s,c,d)),(i=a[1])&&t.push(new Ne(i,c,s,u,d)),(i=a[2])&&t.push(new Ne(i,o,d,c,l)),(i=a[3])&&t.push(new Ne(i,c,d,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function df(e){return e[0]}function gf(e){return arguments.length?(this._x=e,this):this._x}function mf(e){return e[1]}function pf(e){return arguments.length?(this._y=e,this):this._y}function Pr(e,t,n){var r=new Lr(t??df,n??mf,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Lr(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Da(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var $e=Pr.prototype=Lr.prototype;$e.copy=function(){var e=new Lr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Da(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=Da(r));return e};$e.add=tf;$e.addAll=nf;$e.cover=rf;$e.data=af;$e.extent=of;$e.find=sf;$e.remove=lf;$e.removeAll=uf;$e.root=cf;$e.size=ff;$e.visit=hf;$e.visitAfter=vf;$e.x=gf;$e.y=pf;function An(e){return function(){return e}}function wt(e){return(e()-.5)*1e-6}function yf(e){return e.x+e.vx}function _f(e){return e.y+e.vy}function wf(e){var t,n,r,a=1,i=1;typeof e!="function"&&(e=An(e==null?1:+e));function o(){for(var l,c=t.length,d,h,v,m,p,_,y=0;y<i;++y)for(d=Pr(t,yf,_f).visitAfter(s),l=0;l<c;++l)h=t[l],p=n[h.index],_=p*p,v=h.x+h.vx,m=h.y+h.vy,d.visit(k);function k(D,w,A,g,x){var M=D.data,j=D.r,U=p+j;if(M){if(M.index>h.index){var S=v-M.x-M.vx,T=m-M.y-M.vy,C=S*S+T*T;C<U*U&&(S===0&&(S=wt(r),C+=S*S),T===0&&(T=wt(r),C+=T*T),C=(U-(C=Math.sqrt(C)))/C*a,h.vx+=(S*=C)*(U=(j*=j)/(_+j)),h.vy+=(T*=C)*U,M.vx-=S*(U=1-U),M.vy-=T*U)}return}return w>v+U||g<v-U||A>m+U||x<m-U}}function s(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,d;for(n=new Array(c),l=0;l<c;++l)d=t[l],n[d.index]=+e(d,l,t)}}return o.initialize=function(l,c){t=l,r=c,u()},o.iterations=function(l){return arguments.length?(i=+l,o):i},o.strength=function(l){return arguments.length?(a=+l,o):a},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:An(+l),u(),o):e},o}const xf=1664525,bf=1013904223,Ea=4294967296;function Mf(){let e=1;return()=>(e=(xf*e+bf)%Ea)/Ea}function kf(e){return e.x}function Sf(e){return e.y}var Af=10,Tf=Math.PI*(3-Math.sqrt(5));function Nf(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,s=new Map,u=zr(d),l=Hn("tick","end"),c=Mf();e==null&&(e=[]);function d(){h(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function h(p){var _,y=e.length,k;p===void 0&&(p=1);for(var D=0;D<p;++D)for(n+=(i-n)*a,s.forEach(function(w){w(n)}),_=0;_<y;++_)k=e[_],k.fx==null?k.x+=k.vx*=o:(k.x=k.fx,k.vx=0),k.fy==null?k.y+=k.vy*=o:(k.y=k.fy,k.vy=0);return t}function v(){for(var p=0,_=e.length,y;p<_;++p){if(y=e[p],y.index=p,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var k=Af*Math.sqrt(.5+p),D=p*Tf;y.x=k*Math.cos(D),y.y=k*Math.sin(D)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(p){return p.initialize&&p.initialize(e,c),p}return v(),t={tick:h,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(p){return arguments.length?(e=p,v(),s.forEach(m),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(a=+p,t):+a},alphaTarget:function(p){return arguments.length?(i=+p,t):i},velocityDecay:function(p){return arguments.length?(o=1-p,t):1-o},randomSource:function(p){return arguments.length?(c=p,s.forEach(m),t):c},force:function(p,_){return arguments.length>1?(_==null?s.delete(p):s.set(p,m(_)),t):s.get(p)},find:function(p,_,y){var k=0,D=e.length,w,A,g,x,M;for(y==null?y=1/0:y*=y,k=0;k<D;++k)x=e[k],w=p-x.x,A=_-x.y,g=w*w+A*A,g<y&&(M=x,y=g);return M},on:function(p,_){return arguments.length>1?(l.on(p,_),t):l.on(p)}}}function Cf(){var e,t,n,r,a=An(-30),i,o=1,s=1/0,u=.81;function l(v){var m,p=e.length,_=Pr(e,kf,Sf).visitAfter(d);for(r=v,m=0;m<p;++m)t=e[m],_.visit(h)}function c(){if(e){var v,m=e.length,p;for(i=new Array(m),v=0;v<m;++v)p=e[v],i[p.index]=+a(p,v,e)}}function d(v){var m=0,p,_,y=0,k,D,w;if(v.length){for(k=D=w=0;w<4;++w)(p=v[w])&&(_=Math.abs(p.value))&&(m+=p.value,y+=_,k+=_*p.x,D+=_*p.y);v.x=k/y,v.y=D/y}else{p=v,p.x=p.data.x,p.y=p.data.y;do m+=i[p.data.index];while(p=p.next)}v.value=m}function h(v,m,p,_){if(!v.value)return!0;var y=v.x-t.x,k=v.y-t.y,D=_-m,w=y*y+k*k;if(D*D/u<w)return w<s&&(y===0&&(y=wt(n),w+=y*y),k===0&&(k=wt(n),w+=k*k),w<o&&(w=Math.sqrt(o*w)),t.vx+=y*v.value*r/w,t.vy+=k*v.value*r/w),!0;if(v.length||w>=s)return;(v.data!==t||v.next)&&(y===0&&(y=wt(n),w+=y*y),k===0&&(k=wt(n),w+=k*k),w<o&&(w=Math.sqrt(o*w)));do v.data!==t&&(D=i[v.data.index]*r/w,t.vx+=y*D,t.vy+=k*D);while(v=v.next)}return l.initialize=function(v,m){e=v,n=m,c()},l.strength=function(v){return arguments.length?(a=typeof v=="function"?v:An(+v),c(),l):a},l.distanceMin=function(v){return arguments.length?(o=v*v,l):Math.sqrt(o)},l.distanceMax=function(v){return arguments.length?(s=v*v,l):Math.sqrt(s)},l.theta=function(v){return arguments.length?(u=v*v,l):Math.sqrt(u)},l}function $f(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ct(e){return e=Tn(Math.abs(e)),e?e[1]:NaN}function Df(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ef(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var If=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nn(e){if(!(t=If.exec(e)))throw new Error("invalid format: "+e);var t;return new Or({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nn.prototype=Or.prototype;function Or(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uf(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Oi;function jf(e,t){var n=Tn(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Oi=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Tn(e,Math.max(0,t+i-1))[0]}function Ia(e,t){var n=Tn(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ua={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$f,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ia(e*100,t),r:Ia,s:jf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ja(e){return e}var Fa=Array.prototype.map,Ha=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ff(e){var t=e.grouping===void 0||e.thousands===void 0?ja:Df(Fa.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ja:Ef(Fa.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Nn(d);var h=d.fill,v=d.align,m=d.sign,p=d.symbol,_=d.zero,y=d.width,k=d.comma,D=d.precision,w=d.trim,A=d.type;A==="n"?(k=!0,A="g"):Ua[A]||(D===void 0&&(D=12),w=!0,A="g"),(_||h==="0"&&v==="=")&&(_=!0,h="0",v="=");var g=p==="$"?n:p==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",x=p==="$"?r:/[%p]/.test(A)?o:"",M=Ua[A],j=/[defgprs%]/.test(A);D=D===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function U(S){var T=g,C=x,G,J,ae;if(A==="c")C=M(S)+C,S="";else{S=+S;var L=S<0||1/S<0;if(S=isNaN(S)?u:M(Math.abs(S),D),w&&(S=Uf(S)),L&&+S==0&&m!=="+"&&(L=!1),T=(L?m==="("?m:s:m==="-"||m==="("?"":m)+T,C=(A==="s"?Ha[8+Oi/3]:"")+C+(L&&m==="("?")":""),j){for(G=-1,J=S.length;++G<J;)if(ae=S.charCodeAt(G),48>ae||ae>57){C=(ae===46?a+S.slice(G+1):S.slice(G))+C,S=S.slice(0,G);break}}}k&&!_&&(S=t(S,1/0));var Z=T.length+S.length+C.length,oe=Z<y?new Array(y-Z+1).join(h):"";switch(k&&_&&(S=t(oe+S,oe.length?y-C.length:1/0),oe=""),v){case"<":S=T+S+C+oe;break;case"=":S=T+oe+S+C;break;case"^":S=oe.slice(0,Z=oe.length>>1)+T+S+C+oe.slice(Z);break;default:S=oe+T+S+C;break}return i(S)}return U.toString=function(){return d+""},U}function c(d,h){var v=l((d=Nn(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Ct(h)/3)))*3,p=Math.pow(10,-m),_=Ha[8+m/3];return function(y){return v(p*y)+_}}return{format:l,formatPrefix:c}}var cn,Wi,Vi;Hf({thousands:",",grouping:[3],currency:["$",""]});function Hf(e){return cn=Ff(e),Wi=cn.format,Vi=cn.formatPrefix,cn}function Rf(e){return Math.max(0,-Ct(Math.abs(e)))}function zf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ct(t)/3)))*3-Ct(Math.abs(e)))}function Gf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ct(t)-Ct(e))+1}function tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ra=Symbol("implicit");function Wn(){var e=new ua,t=[],n=[],r=Ra;function a(i){let o=e.get(i);if(o===void 0){if(r!==Ra)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ua;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Wn(t,n).unknown(r)},tn.apply(a,arguments),a}function Wr(){var e=Wn().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,u=0,l=0,c=.5;delete e.unknown;function d(){var h=t().length,v=a<r,m=v?a:r,p=v?r:a;i=(p-m)/Math.max(1,h-u+l*2),s&&(i=Math.floor(i)),m+=(p-m-i*(h-u))*c,o=i*(1-u),s&&(m=Math.round(m),o=Math.round(o));var _=cs(h).map(function(y){return m+i*y});return n(v?_.reverse():_)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),d()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return Wr(t(),[r,a]).round(s).paddingInner(u).paddingOuter(l).align(c)},tn.apply(d(),arguments)}function Pf(e){return function(){return e}}function Lf(e){return+e}var za=[0,1];function Fe(e){return e}function Nr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Pf(isNaN(t)?NaN:.5)}function Of(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wf(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Nr(a,r),i=n(o,i)):(r=Nr(r,a),i=n(i,o)),function(s){return i(r(s))}}function Vf(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Nr(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var u=ns(e,s,1,r)-1;return i[u](a[u](s))}}function Vr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qi(){var e=za,t=za,n=Pn,r,a,i,o=Fe,s,u,l;function c(){var h=Math.min(e.length,t.length);return o!==Fe&&(o=Of(e[0],e[h-1])),s=h>2?Vf:Wf,u=l=null,d}function d(h){return h==null||isNaN(h=+h)?i:(u||(u=s(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(a((l||(l=s(t,e.map(r),Pe)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Lf),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Di,c()},d.clamp=function(h){return arguments.length?(o=h?!0:Fe,c()):o!==Fe},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,v){return r=h,a=v,c()}}function Xi(){return qi()(Fe,Fe)}function qf(e,t,n,r){var a=pr(e,t,n),i;switch(r=Nn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=zf(a,o))&&(r.precision=i),Vi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Gf(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Rf(a))&&(r.precision=i-(r.type==="%")*2);break}}return Wi(r)}function qr(e){var t=e.domain;return e.ticks=function(n){var r=t();return us(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return qf(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);c-- >0;){if(l=mr(o,s,n),l===u)return r[a]=o,r[i]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function Cn(){var e=Xi();return e.copy=function(){return Vr(e,Cn())},tn.apply(e,arguments),qr(e)}function Xf(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ga(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jf(e){return e<0?-e*e:e*e}function Kf(e){var t=e(Fe,Fe),n=1;function r(){return n===1?e(Fe,Fe):n===.5?e(Bf,Jf):e(Ga(n),Ga(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},qr(t)}function Bi(){var e=Kf(qi());return e.copy=function(){return Vr(e,Bi()).exponent(e.exponent())},tn.apply(e,arguments),e}function Ji(){return Bi.apply(null,arguments).exponent(.5)}const lr=new Date,ur=new Date;function ye(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const u=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;let l;do u.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return u},a.filter=i=>ye(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(lr.setTime(+i),ur.setTime(+o),e(lr),e(ur),Math.floor(n(lr,ur))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const $n=ye(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$n.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ye(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$n);$n.range;const Ke=1e3,He=Ke*60,Ze=He*60,tt=Ze*24,Xr=tt*7,Ya=tt*30,cr=tt*365,xt=ye(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ke)},(e,t)=>(t-e)/Ke,e=>e.getUTCSeconds());xt.range;const Br=ye(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getMinutes());Br.range;const Zf=ye(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getUTCMinutes());Zf.range;const Jr=ye(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke-e.getMinutes()*He)},(e,t)=>{e.setTime(+e+t*Ze)},(e,t)=>(t-e)/Ze,e=>e.getHours());Jr.range;const Qf=ye(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ze)},(e,t)=>(t-e)/Ze,e=>e.getUTCHours());Qf.range;const nn=ye(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*He)/tt,e=>e.getDate()-1);nn.range;const Kr=ye(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tt,e=>e.getUTCDate()-1);Kr.range;const eh=ye(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tt,e=>Math.floor(e/tt));eh.range;function mt(e){return ye(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*He)/Xr)}const Vn=mt(0),Dn=mt(1),th=mt(2),nh=mt(3),$t=mt(4),rh=mt(5),ah=mt(6);Vn.range;Dn.range;th.range;nh.range;$t.range;rh.range;ah.range;function pt(e){return ye(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Xr)}const Ki=pt(0),En=pt(1),ih=pt(2),oh=pt(3),Dt=pt(4),sh=pt(5),lh=pt(6);Ki.range;En.range;ih.range;oh.range;Dt.range;sh.range;lh.range;const Zr=ye(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Zr.range;const uh=ye(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uh.range;const nt=ye(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ye(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});nt.range;const dt=ye(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ye(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});dt.range;function ch(e,t,n,r,a,i){const o=[[xt,1,Ke],[xt,5,5*Ke],[xt,15,15*Ke],[xt,30,30*Ke],[i,1,He],[i,5,5*He],[i,15,15*He],[i,30,30*He],[a,1,Ze],[a,3,3*Ze],[a,6,6*Ze],[a,12,12*Ze],[r,1,tt],[r,2,2*tt],[n,1,Xr],[t,1,Ya],[t,3,3*Ya],[e,1,cr]];function s(l,c,d){const h=c<l;h&&([l,c]=[c,l]);const v=d&&typeof d.range=="function"?d:u(l,c,d),m=v?v.range(l,+c+1):[];return h?m.reverse():m}function u(l,c,d){const h=Math.abs(c-l)/d,v=$r(([,,_])=>_).right(o,h);if(v===o.length)return e.every(pr(l/cr,c/cr,d));if(v===0)return $n.every(Math.max(pr(l,c,d),1));const[m,p]=o[h/o[v-1][2]<o[v][2]/h?v-1:v];return m.every(p)}return[s,u]}const[fh,hh]=ch(nt,Zr,Vn,nn,Jr,Br);function fr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vh(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=zt(a),c=Gt(a),d=zt(i),h=Gt(i),v=zt(o),m=Gt(o),p=zt(s),_=Gt(s),y=zt(u),k=Gt(u),D={a:L,A:Z,b:oe,B:fe,c:null,d:qa,e:qa,f:Fh,g:Vh,G:Xh,H:Ih,I:Uh,j:jh,L:Zi,m:Hh,M:Rh,p:de,q:ne,Q:Ja,s:Ka,S:zh,u:Gh,U:Yh,V:Ph,w:Lh,W:Oh,x:null,X:null,y:Wh,Y:qh,Z:Bh,"%":Ba},w={a:te,A:Q,b:K,B:Y,c:null,d:Xa,e:Xa,f:Qh,g:uv,G:fv,H:Jh,I:Kh,j:Zh,L:eo,m:ev,M:tv,p:W,q:se,Q:Ja,s:Ka,S:nv,u:rv,U:av,V:iv,w:ov,W:sv,x:null,X:null,y:lv,Y:cv,Z:hv,"%":Ba},A={a:U,A:S,b:T,B:C,c:G,d:Wa,e:Wa,f:Ch,g:Oa,G:La,H:Va,I:Va,j:Sh,L:Nh,m:kh,M:Ah,p:j,q:Mh,Q:Dh,s:Eh,S:Th,u:yh,U:_h,V:wh,w:ph,W:xh,x:J,X:ae,y:Oa,Y:La,Z:bh,"%":$h};D.x=g(n,D),D.X=g(r,D),D.c=g(t,D),w.x=g(n,w),w.X=g(r,w),w.c=g(t,w);function g(H,O){return function(P){var I=[],ue=-1,B=0,le=H.length,ve,we,yt;for(P instanceof Date||(P=new Date(+P));++ue<le;)H.charCodeAt(ue)===37&&(I.push(H.slice(B,ue)),(we=Pa[ve=H.charAt(++ue)])!=null?ve=H.charAt(++ue):we=ve==="e"?" ":"0",(yt=O[ve])&&(ve=yt(P,we)),I.push(ve),B=ue+1);return I.push(H.slice(B,ue)),I.join("")}}function x(H,O){return function(P){var I=Rt(1900,void 0,1),ue=M(I,H,P+="",0),B,le;if(ue!=P.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(O&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(B=hr(Rt(I.y,0,1)),le=B.getUTCDay(),B=le>4||le===0?En.ceil(B):En(B),B=Kr.offset(B,(I.V-1)*7),I.y=B.getUTCFullYear(),I.m=B.getUTCMonth(),I.d=B.getUTCDate()+(I.w+6)%7):(B=fr(Rt(I.y,0,1)),le=B.getDay(),B=le>4||le===0?Dn.ceil(B):Dn(B),B=nn.offset(B,(I.V-1)*7),I.y=B.getFullYear(),I.m=B.getMonth(),I.d=B.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),le="Z"in I?hr(Rt(I.y,0,1)).getUTCDay():fr(Rt(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(le+5)%7:I.w+I.U*7-(le+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,hr(I)):fr(I)}}function M(H,O,P,I){for(var ue=0,B=O.length,le=P.length,ve,we;ue<B;){if(I>=le)return-1;if(ve=O.charCodeAt(ue++),ve===37){if(ve=O.charAt(ue++),we=A[ve in Pa?O.charAt(ue++):ve],!we||(I=we(H,P,I))<0)return-1}else if(ve!=P.charCodeAt(I++))return-1}return I}function j(H,O,P){var I=l.exec(O.slice(P));return I?(H.p=c.get(I[0].toLowerCase()),P+I[0].length):-1}function U(H,O,P){var I=v.exec(O.slice(P));return I?(H.w=m.get(I[0].toLowerCase()),P+I[0].length):-1}function S(H,O,P){var I=d.exec(O.slice(P));return I?(H.w=h.get(I[0].toLowerCase()),P+I[0].length):-1}function T(H,O,P){var I=y.exec(O.slice(P));return I?(H.m=k.get(I[0].toLowerCase()),P+I[0].length):-1}function C(H,O,P){var I=p.exec(O.slice(P));return I?(H.m=_.get(I[0].toLowerCase()),P+I[0].length):-1}function G(H,O,P){return M(H,t,O,P)}function J(H,O,P){return M(H,n,O,P)}function ae(H,O,P){return M(H,r,O,P)}function L(H){return o[H.getDay()]}function Z(H){return i[H.getDay()]}function oe(H){return u[H.getMonth()]}function fe(H){return s[H.getMonth()]}function de(H){return a[+(H.getHours()>=12)]}function ne(H){return 1+~~(H.getMonth()/3)}function te(H){return o[H.getUTCDay()]}function Q(H){return i[H.getUTCDay()]}function K(H){return u[H.getUTCMonth()]}function Y(H){return s[H.getUTCMonth()]}function W(H){return a[+(H.getUTCHours()>=12)]}function se(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var O=g(H+="",D);return O.toString=function(){return H},O},parse:function(H){var O=x(H+="",!1);return O.toString=function(){return H},O},utcFormat:function(H){var O=g(H+="",w);return O.toString=function(){return H},O},utcParse:function(H){var O=x(H+="",!0);return O.toString=function(){return H},O}}}var Pa={"-":"",_:" ",0:"0"},_e=/^\s*\d+/,dh=/^%/,gh=/[\\^$*+?|[\]().{}]/g;function ce(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function mh(e){return e.replace(gh,"\\$&")}function zt(e){return new RegExp("^(?:"+e.map(mh).join("|")+")","i")}function Gt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ph(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yh(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _h(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wh(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function xh(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function La(e,t,n){var r=_e.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Oa(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bh(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mh(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kh(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wa(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Sh(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Va(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ah(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Th(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Nh(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ch(e,t,n){var r=_e.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $h(e,t,n){var r=dh.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Dh(e,t,n){var r=_e.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Eh(e,t,n){var r=_e.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qa(e,t){return ce(e.getDate(),t,2)}function Ih(e,t){return ce(e.getHours(),t,2)}function Uh(e,t){return ce(e.getHours()%12||12,t,2)}function jh(e,t){return ce(1+nn.count(nt(e),e),t,3)}function Zi(e,t){return ce(e.getMilliseconds(),t,3)}function Fh(e,t){return Zi(e,t)+"000"}function Hh(e,t){return ce(e.getMonth()+1,t,2)}function Rh(e,t){return ce(e.getMinutes(),t,2)}function zh(e,t){return ce(e.getSeconds(),t,2)}function Gh(e){var t=e.getDay();return t===0?7:t}function Yh(e,t){return ce(Vn.count(nt(e)-1,e),t,2)}function Qi(e){var t=e.getDay();return t>=4||t===0?$t(e):$t.ceil(e)}function Ph(e,t){return e=Qi(e),ce($t.count(nt(e),e)+(nt(e).getDay()===4),t,2)}function Lh(e){return e.getDay()}function Oh(e,t){return ce(Dn.count(nt(e)-1,e),t,2)}function Wh(e,t){return ce(e.getFullYear()%100,t,2)}function Vh(e,t){return e=Qi(e),ce(e.getFullYear()%100,t,2)}function qh(e,t){return ce(e.getFullYear()%1e4,t,4)}function Xh(e,t){var n=e.getDay();return e=n>=4||n===0?$t(e):$t.ceil(e),ce(e.getFullYear()%1e4,t,4)}function Bh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function Xa(e,t){return ce(e.getUTCDate(),t,2)}function Jh(e,t){return ce(e.getUTCHours(),t,2)}function Kh(e,t){return ce(e.getUTCHours()%12||12,t,2)}function Zh(e,t){return ce(1+Kr.count(dt(e),e),t,3)}function eo(e,t){return ce(e.getUTCMilliseconds(),t,3)}function Qh(e,t){return eo(e,t)+"000"}function ev(e,t){return ce(e.getUTCMonth()+1,t,2)}function tv(e,t){return ce(e.getUTCMinutes(),t,2)}function nv(e,t){return ce(e.getUTCSeconds(),t,2)}function rv(e){var t=e.getUTCDay();return t===0?7:t}function av(e,t){return ce(Ki.count(dt(e)-1,e),t,2)}function to(e){var t=e.getUTCDay();return t>=4||t===0?Dt(e):Dt.ceil(e)}function iv(e,t){return e=to(e),ce(Dt.count(dt(e),e)+(dt(e).getUTCDay()===4),t,2)}function ov(e){return e.getUTCDay()}function sv(e,t){return ce(En.count(dt(e)-1,e),t,2)}function lv(e,t){return ce(e.getUTCFullYear()%100,t,2)}function uv(e,t){return e=to(e),ce(e.getUTCFullYear()%100,t,2)}function cv(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function fv(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dt(e):Dt.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function hv(){return"+0000"}function Ba(){return"%"}function Ja(e){return+e}function Ka(e){return Math.floor(+e/1e3)}var _t,no;vv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vv(e){return _t=vh(e),no=_t.format,_t.parse,_t.utcFormat,_t.utcParse,_t}function dv(e){return new Date(e)}function gv(e){return e instanceof Date?+e:+new Date(+e)}function ro(e,t,n,r,a,i,o,s,u,l){var c=Xi(),d=c.invert,h=c.domain,v=l(".%L"),m=l(":%S"),p=l("%I:%M"),_=l("%I %p"),y=l("%a %d"),k=l("%b %d"),D=l("%B"),w=l("%Y");function A(g){return(u(g)<g?v:s(g)<g?m:o(g)<g?p:i(g)<g?_:r(g)<g?a(g)<g?y:k:n(g)<g?D:w)(g)}return c.invert=function(g){return new Date(d(g))},c.domain=function(g){return arguments.length?h(Array.from(g,gv)):h().map(dv)},c.ticks=function(g){var x=h();return e(x[0],x[x.length-1],g??10)},c.tickFormat=function(g,x){return x==null?A:l(x)},c.nice=function(g){var x=h();return(!g||typeof g.range!="function")&&(g=t(x[0],x[x.length-1],g??10)),g?h(Xf(x,g)):c},c.copy=function(){return Vr(c,ro(e,t,n,r,a,i,o,s,u,l))},c}function mv(){return tn.apply(ro(fh,hh,nt,Zr,Vn,nn,Jr,Br,xt,no).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pv(){var e=0,t=1,n,r,a,i,o=Fe,s=!1,u;function l(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(i(d)-n)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function c(d){return function(h){var v,m;return arguments.length?([v,m]=h,o=d(v,m),l):[o(0),o(1)]}}return l.range=c(Pn),l.rangeRound=c(Di),l.unknown=function(d){return arguments.length?(u=d,l):u},function(d){return i=d,n=d(e),r=d(t),a=n===r?0:1/(r-n),l}}function yv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Qr(){var e=qr(pv()(Fe));return e.copy=function(){return yv(e,Qr())},Yf.apply(e,arguments)}function ao(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const _v=ao("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),wv=e=>Tu(e[e.length-1]);var xv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ao);const bv=wv(xv);ji(rt(-100,.75,.35),rt(80,1.5,.8));var Mv=ji(rt(260,.75,.35),rt(80,1.5,.8));rt();function Te(e){return function(){return e}}const Za=Math.abs,xe=Math.atan2,ot=Math.cos,kv=Math.max,vr=Math.min,We=Math.sin,bt=Math.sqrt,De=1e-12,Kt=Math.PI,In=Kt/2,pn=2*Kt;function Sv(e){return e>1?0:e<-1?Kt:Math.acos(e)}function Qa(e){return e>=1?In:e<=-1?-In:Math.asin(e)}function Av(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qc(t)}function Tv(e){return e.innerRadius}function Nv(e){return e.outerRadius}function Cv(e){return e.startAngle}function $v(e){return e.endAngle}function Dv(e){return e&&e.padAngle}function Ev(e,t,n,r,a,i,o,s){var u=n-e,l=r-t,c=o-a,d=s-i,h=d*u-c*l;if(!(h*h<De))return h=(c*(t-i)-d*(e-a))/h,[e+h*u,t+h*l]}function fn(e,t,n,r,a,i,o){var s=e-n,u=t-r,l=(o?i:-i)/bt(s*s+u*u),c=l*u,d=-l*s,h=e+c,v=t+d,m=n+c,p=r+d,_=(h+m)/2,y=(v+p)/2,k=m-h,D=p-v,w=k*k+D*D,A=a-i,g=h*p-m*v,x=(D<0?-1:1)*bt(kv(0,A*A*w-g*g)),M=(g*D-k*x)/w,j=(-g*k-D*x)/w,U=(g*D+k*x)/w,S=(-g*k+D*x)/w,T=M-_,C=j-y,G=U-_,J=S-y;return T*T+C*C>G*G+J*J&&(M=U,j=S),{cx:M,cy:j,x01:-c,y01:-d,x11:M*(a/A-1),y11:j*(a/A-1)}}function Iv(){var e=Tv,t=Nv,n=Te(0),r=null,a=Cv,i=$v,o=Dv,s=null,u=Av(l);function l(){var c,d,h=+e.apply(this,arguments),v=+t.apply(this,arguments),m=a.apply(this,arguments)-In,p=i.apply(this,arguments)-In,_=Za(p-m),y=p>m;if(s||(s=c=u()),v<h&&(d=v,v=h,h=d),!(v>De))s.moveTo(0,0);else if(_>pn-De)s.moveTo(v*ot(m),v*We(m)),s.arc(0,0,v,m,p,!y),h>De&&(s.moveTo(h*ot(p),h*We(p)),s.arc(0,0,h,p,m,y));else{var k=m,D=p,w=m,A=p,g=_,x=_,M=o.apply(this,arguments)/2,j=M>De&&(r?+r.apply(this,arguments):bt(h*h+v*v)),U=vr(Za(v-h)/2,+n.apply(this,arguments)),S=U,T=U,C,G;if(j>De){var J=Qa(j/h*We(M)),ae=Qa(j/v*We(M));(g-=J*2)>De?(J*=y?1:-1,w+=J,A-=J):(g=0,w=A=(m+p)/2),(x-=ae*2)>De?(ae*=y?1:-1,k+=ae,D-=ae):(x=0,k=D=(m+p)/2)}var L=v*ot(k),Z=v*We(k),oe=h*ot(A),fe=h*We(A);if(U>De){var de=v*ot(D),ne=v*We(D),te=h*ot(w),Q=h*We(w),K;if(_<Kt)if(K=Ev(L,Z,te,Q,de,ne,oe,fe)){var Y=L-K[0],W=Z-K[1],se=de-K[0],H=ne-K[1],O=1/We(Sv((Y*se+W*H)/(bt(Y*Y+W*W)*bt(se*se+H*H)))/2),P=bt(K[0]*K[0]+K[1]*K[1]);S=vr(U,(h-P)/(O-1)),T=vr(U,(v-P)/(O+1))}else S=T=0}x>De?T>De?(C=fn(te,Q,L,Z,v,T,y),G=fn(de,ne,oe,fe,v,T,y),s.moveTo(C.cx+C.x01,C.cy+C.y01),T<U?s.arc(C.cx,C.cy,T,xe(C.y01,C.x01),xe(G.y01,G.x01),!y):(s.arc(C.cx,C.cy,T,xe(C.y01,C.x01),xe(C.y11,C.x11),!y),s.arc(0,0,v,xe(C.cy+C.y11,C.cx+C.x11),xe(G.cy+G.y11,G.cx+G.x11),!y),s.arc(G.cx,G.cy,T,xe(G.y11,G.x11),xe(G.y01,G.x01),!y))):(s.moveTo(L,Z),s.arc(0,0,v,k,D,!y)):s.moveTo(L,Z),!(h>De)||!(g>De)?s.lineTo(oe,fe):S>De?(C=fn(oe,fe,de,ne,h,-S,y),G=fn(L,Z,te,Q,h,-S,y),s.lineTo(C.cx+C.x01,C.cy+C.y01),S<U?s.arc(C.cx,C.cy,S,xe(C.y01,C.x01),xe(G.y01,G.x01),!y):(s.arc(C.cx,C.cy,S,xe(C.y01,C.x01),xe(C.y11,C.x11),!y),s.arc(0,0,h,xe(C.cy+C.y11,C.cx+C.x11),xe(G.cy+G.y11,G.cx+G.x11),y),s.arc(G.cx,G.cy,S,xe(G.y11,G.x11),xe(G.y01,G.x01),!y))):s.arc(0,0,h,A,w,y)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Kt/2;return[ot(d)*c,We(d)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Te(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Te(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Te(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Te(+c),l):r},l.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Te(+c),l):a},l.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Te(+c),l):i},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Te(+c),l):o},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function Uv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jv(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Fv(e){return e}function Hv(){var e=Fv,t=jv,n=null,r=Te(0),a=Te(pn),i=Te(0);function o(s){var u,l=(s=Uv(s)).length,c,d,h=0,v=new Array(l),m=new Array(l),p=+r.apply(this,arguments),_=Math.min(pn,Math.max(-pn,a.apply(this,arguments)-p)),y,k=Math.min(Math.abs(_)/l,i.apply(this,arguments)),D=k*(_<0?-1:1),w;for(u=0;u<l;++u)(w=m[v[u]=u]=+e(s[u],u,s))>0&&(h+=w);for(t!=null?v.sort(function(A,g){return t(m[A],m[g])}):n!=null&&v.sort(function(A,g){return n(s[A],s[g])}),u=0,d=h?(_-l*D)/h:0;u<l;++u,p=y)c=v[u],w=m[c],y=p+(w>0?w*d:0)+D,m[c]={data:s[c],index:u,value:w,startAngle:p,endAngle:y,padAngle:k};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:Te(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Te(+s),o):r},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Te(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Te(+s),o):i},o}function Ot(e,t,n){this.k=e,this.x=t,this.y=n}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ot.prototype;var Rv=gt('<svg role="img" aria-label="Donut chart"></svg>');function zv(e,t){Me(t,!1);let n=ie(t,"data",24,()=>[]),r=ie(t,"width",8,480),a=ie(t,"height",8,480),i=ie(t,"innerRadius",24,()=>Math.min(r(),a())/3),o=ie(t,"outerRadius",24,()=>Math.min(r(),a())/2),s=ie(t,"padAngle",24,()=>Math.PI/180),u=q(),l=()=>{};function c(){if(!f(u))return;const h=Qe(f(u));if(h.selectAll("*").remove(),!n()||n().length===0)return;const v=Wn().domain(n().map(y=>y.name)).range(_v),p=Hv().padAngle(s()).sort(null).value(y=>y.value)(n()),_=Iv().innerRadius(i()).outerRadius(o());h.attr("viewBox",[-r()/2,-a()/2,r(),a()]).attr("width",r()).attr("height",a()),h.append("g").selectAll("path").data(p).join("path").attr("fill",y=>v(y.data.name)).attr("d",_).append("title").text(y=>`${y.data.name}: ${y.data.value}`),h.append("g").attr("font-size",12).attr("text-anchor","middle").selectAll("text").data(p).join("text").attr("transform",y=>`translate(${_.centroid(y)})`).attr("dy","0.35em").text(y=>`${y.data.name} ${y.data.value}`),l=()=>{h.selectAll("*").remove()}}Qt(c),Fn(()=>l()),ge(()=>f(u),()=>{f(u)&&c()}),Ie(),Ce();var d=Rv();Zt(d,h=>b(u,h),()=>f(u)),$(e,d),ke()}var Gv=gt('<svg role="img" aria-label="Top 10 meest gespeelde games"></svg>');function Yv(e,t){Me(t,!1);let n=ie(t,"data",24,()=>[]),r=ie(t,"width",8,700),a=ie(t,"height",8,400),i=ie(t,"margin",24,()=>({top:20,right:20,bottom:40,left:180})),o=q(),s=()=>{};function u(){if(!f(o)||!n()||n().length===0)return;const c=Qe(f(o));c.selectAll("*").remove();const d=r()-i().left-i().right,h=a()-i().top-i().bottom,v=Cn().domain([0,Vt(n(),_=>_.value)||0]).nice().range([0,d]),m=Wr().domain(n().map(_=>_.name)).range([0,h]).padding(.1),p=c.attr("viewBox",`0 0 ${r()} ${a()}`).attr("width",r()).attr("height",a()).append("g").attr("transform",`translate(${i().left},${i().top})`);p.selectAll("rect").data(n()).join("rect").attr("x",0).attr("y",_=>m(_.name)).attr("width",_=>v(_.value)).attr("height",m.bandwidth()).attr("fill","#66c0f4"),p.selectAll("text.label").data(n()).join("text").attr("class","label").attr("x",_=>v(_.value)+4).attr("y",_=>(m(_.name)||0)+m.bandwidth()/2).attr("dy","0.35em").attr("font-size",10).text(_=>`${_.value.toFixed(1)} u`),p.append("g").call(Er(m)),p.append("g").attr("transform",`translate(0,${h})`).call(Dr(v).ticks(5)).append("text").attr("x",d/2).attr("y",32).attr("fill","currentColor").attr("text-anchor","middle").text("Uren gespeeld"),s=()=>{c.selectAll("*").remove()}}Qt(u),Fn(()=>s()),ge(()=>Ee(n()),()=>{n()&&n().length&&u()}),Ie(),Ce();var l=Gv();Zt(l,c=>b(o,c),()=>f(o)),$(e,l),ke()}var Pv=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),Lv=F("<p>Top games laden…</p>"),Ov=F('<p class="error svelte-1kex0ox"> </p>'),Wv=F("<p>Geen games gevonden voor dit account.</p>"),Vv=F('<div class="charts svelte-1kex0ox"><div class="chart-block svelte-1kex0ox"><h3>Speeltijd per game (uren)</h3> <!></div> <div class="chart-block svelte-1kex0ox"><h3>Verdeling speeltijd (donut)</h3> <!></div></div>'),qv=F('<div class="slide2 svelte-1kex0ox"><h2>Top 5 meest gespeelde games</h2>  <!></div>');function Xv(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q([]);const o=new Map;async function s(){if(!n()){b(a,"Geen SteamID geselecteerd. Ga eerst naar slide 1 om een account te kiezen, deze tekst wordt dan op de pagina geladen en dat komt uit de let error"),b(i,[]);return}const h=o.get(n());if(h){b(i,h.topGames),b(a,h.error),b(r,!1);return}b(r,!0),b(a,""),b(i,[]);try{const v=await fetch(`/api/top-games?steamid=${n()}`),m=await v.json();v.ok?b(i,m.topGames||[]):b(a,m.error||"Kon top games niet laden.")}catch(v){console.error(v),b(a,"Fout bij het laden van top games.")}finally{o.set(n(),{topGames:f(i),error:f(a)}),b(r,!1)}}ge(()=>Ee(n()),()=>{n()&&s()}),Ie(),Ce();var u=qv(),l=R(E(u),2);{var c=h=>{var v=Pv();$(h,v)},d=h=>{var v=he(),m=re(v);{var p=y=>{var k=Lv();$(y,k)},_=y=>{var k=he(),D=re(k);{var w=g=>{var x=Ov(),M=E(x,!0);N(x),ee(()=>X(M,f(a))),$(g,x)},A=g=>{var x=he(),M=re(x);{var j=S=>{var T=Wv();$(S,T)},U=S=>{var T=Vv(),C=E(T),G=R(E(C),2);Yv(G,{get data(){return f(i)}}),N(C);var J=R(C,2),ae=R(E(J),2);zv(ae,{get data(){return f(i)},width:360,height:360}),N(J),N(T),$(S,T)};V(M,S=>{f(i),z(()=>f(i).length===0)?S(j):S(U,!1)},!0)}$(g,x)};V(D,g=>{f(a)?g(w):g(A,!1)},!0)}$(y,k)};V(m,y=>{f(r)?y(p):y(_,!1)},!0)}$(h,v)};V(l,h=>{n()?h(d,!1):h(c)})}N(u),$(e,u),ke()}var Bv=F('<li class="svelte-368tgl"><span class="game-name svelte-368tgl"> </span> <span class="game-hours svelte-368tgl"> </span></li>'),Jv=F('<div class="tooltip svelte-368tgl"><div class="tooltip-title svelte-368tgl"> </div> <ul class="svelte-368tgl"></ul></div>'),Kv=F('<div class="genre-row svelte-368tgl"><div class="left svelte-368tgl"><div class="icon svelte-368tgl"> </div> <div class="text svelte-368tgl"><div class="genre-name svelte-368tgl"> </div> <div class="meta svelte-368tgl"> </div></div></div> <div class="bar-wrap svelte-368tgl"><div class="bar svelte-368tgl"></div></div> <!></div>'),Zv=F('<div class="genres svelte-368tgl"></div>');function Qv(e,t){Me(t,!1);let n=ie(t,"data",24,()=>[]);function r(o){const s=(o||"").toLowerCase();return s.includes("rpg")?"🧙‍♂️":s.includes("action")?"⚔️":s.includes("adventure")?"🗺️":s.includes("strategy")?"♟️":s.includes("simulation")?"🛠️":s.includes("sports")?"🏅":s.includes("racing")?"🏎️":s.includes("horror")?"👻":s.includes("casual")?"☕":s.includes("indie")?"🌟":s.includes("multiplayer")?"👥":s.includes("shooter")?"🔫":s.includes("survival")?"🔥":s.includes("puzzle")?"🧩":"🎲"}function a(o){return`${o.toFixed(1)} u`}Ce();var i=Zv();ze(i,5,n,Re,(o,s)=>{var u=Kv(),l=E(u),c=E(l),d=E(c,!0);N(c);var h=R(c,2),v=E(h),m=E(v,!0);N(v);var p=R(v,2),_=E(p);N(p),N(h),N(l);var y=R(l,2),k=E(y);N(y);var D=R(y,2);{var w=A=>{var g=Jv(),x=E(g),M=E(x);N(x);var j=R(x,2);ze(j,5,()=>(f(s),z(()=>f(s).games)),Re,(U,S)=>{var T=Bv(),C=E(T),G=E(C,!0);N(C);var J=R(C,2),ae=E(J,!0);N(J),N(T),ee(L=>{X(G,(f(S),z(()=>f(S).name))),X(ae,L)},[()=>(f(S),z(()=>a(f(S).hours)))]),$(U,T)}),N(j),N(g),ee(()=>X(M,`Games in ${f(s),z(()=>f(s).genre)??""}`)),$(A,g)};V(D,A=>{f(s),z(()=>f(s).games&&f(s).games.length)&&A(w)})}N(u),ee((A,g)=>{X(d,A),X(m,(f(s),z(()=>f(s).genre))),X(_,`${g??""} • ${f(s),z(()=>f(s).percentage)??""}%`),ci(k,(f(s),z(()=>`width: ${f(s).percentage}%;`)))},[()=>(f(s),z(()=>r(f(s).genre))),()=>(f(s),z(()=>a(f(s).hours)))]),$(o,u)}),N(i),$(e,i),ke()}var ed=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),td=F("<p>Genres laden…</p>"),nd=F('<p class="error svelte-1f10n74"> </p>'),rd=F("<p>Geen genres/categorieën gevonden.</p>"),ad=F(`<p class="intro svelte-1f10n74">Dit is een overzicht van je belangrijkste genres/categorieën op basis van
      de <strong>voornaamste categorie per game</strong>. Alle speeltijd van een game
      wordt toegewezen aan die hoofdcategorie.
      Hover over een rij om te zien welke games daar allemaal in zitten.</p> <!>`,1),id=F('<div class="slide3 svelte-1f10n74"><h2>Genre / categorie verdeling</h2>  <!></div>');function od(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q([]);const o=new Map;async function s(){if(!n()){b(a,"Geen SteamID geselecteerd. Ga eerst naar slide 1 om een account te kiezen, deze tekst wordt dan op de pagina geladen en dat komt uit de let error"),b(i,[]);return}const h=o.get(n());if(h){b(i,h.genres),b(a,h.error),b(r,!1);return}b(r,!0),b(a,""),b(i,[]);try{const v=await fetch(`/api/genres?steamid=${n()}`),m=await v.json();!v.ok||m.error?b(a,m.error||"Kon genres niet laden."):(b(i,m.genres||[]),!f(i).length&&m.message&&b(a,m.message))}catch(v){console.error(v),b(a,"Fout bij het laden van genres.")}finally{o.set(n(),{genres:f(i),error:f(a)}),b(r,!1)}}ge(()=>Ee(n()),()=>{n()&&s()}),Ie(),Ce();var u=id(),l=R(E(u),2);{var c=h=>{var v=ed();$(h,v)},d=h=>{var v=he(),m=re(v);{var p=y=>{var k=td();$(y,k)},_=y=>{var k=he(),D=re(k);{var w=g=>{var x=nd(),M=E(x,!0);N(x),ee(()=>X(M,f(a))),$(g,x)},A=g=>{var x=he(),M=re(x);{var j=S=>{var T=rd();$(S,T)},U=S=>{var T=ad(),C=R(re(T),2);Qv(C,{get data(){return f(i)}}),$(S,T)};V(M,S=>{f(i),z(()=>f(i).length===0)?S(j):S(U,!1)},!0)}$(g,x)};V(D,g=>{f(a),f(i),z(()=>f(a)&&(!f(i)||f(i).length===0))?g(w):g(A,!1)},!0)}$(y,k)};V(m,y=>{f(r)?y(p):y(_,!1)},!0)}$(h,v)};V(l,h=>{n()?h(d,!1):h(c)})}N(u),$(e,u),ke()}var sd=gt('<text class="label svelte-z0858q" dy="1.2em"> </text>'),ld=gt('<text class="sublabel svelte-z0858q" dy="2.6em"> </text>'),ud=gt('<svg class="radial svelte-z0858q"><circle class="track svelte-z0858q"></circle><circle class="progress svelte-z0858q"></circle><g class="center svelte-z0858q"><text class="value svelte-z0858q" dy="-0.1em"> </text><!><!></g></svg>');function cd(e,t){Me(t,!1);const n=q(),r=q();let a=ie(t,"value",8,0),i=ie(t,"size",8,160),o=ie(t,"strokeWidth",8,14),s=ie(t,"label",8,""),u=ie(t,"sublabel",8,"");const l=(i()-o())/2,c=2*Math.PI*l;ge(()=>Ee(a()),()=>{b(n,Math.max(0,Math.min(100,a())))}),ge(()=>f(n),()=>{b(r,c-f(n)/100*c)}),Ie();var d=ud(),h=E(d),v=R(h),m=R(v),p=E(m),_=E(p);N(p);var y=R(p);{var k=A=>{var g=sd(),x=E(g,!0);N(g),ee(()=>X(x,s())),$(A,g)};V(y,A=>{s()&&A(k)})}var D=R(y);{var w=A=>{var g=ld(),x=E(g,!0);N(g),ee(()=>X(x,u())),$(A,g)};V(D,A=>{u()&&A(w)})}N(m),N(d),ee(A=>{pe(d,"width",i()),pe(d,"height",i()),pe(d,"viewBox",`0 0 ${i()} ${i()}`),pe(h,"cx",i()/2),pe(h,"cy",i()/2),pe(h,"r",l),pe(h,"stroke-width",o()),pe(v,"cx",i()/2),pe(v,"cy",i()/2),pe(v,"r",l),pe(v,"stroke-width",o()),pe(v,"stroke-dasharray",c),pe(v,"stroke-dashoffset",f(r)),pe(m,"transform",`translate(${i()/2}, ${i()/2})`),X(_,`${A??""}%`)},[()=>(f(n),z(()=>f(n).toFixed(1)))]),$(e,d),ke()}var fd=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),hd=F("<option disabled>Games laden…</option>"),vd=F("<option disabled> </option>"),dd=F("<option disabled>Geen games gevonden</option>"),gd=F("<option> </option>"),md=F("<p>Achievements laden…</p>"),pd=F('<p class="error svelte-6fwm5n"> </p>'),yd=F('<p class="muted svelte-6fwm5n">Nog geen achievements unlocked.</p>'),_d=F('<img alt="" class="ach-icon svelte-6fwm5n"/>'),wd=F('<div class="ach-desc svelte-6fwm5n"> </div>'),xd=F('<li class="svelte-6fwm5n"><!> <div class="ach-text svelte-6fwm5n"><div class="ach-name svelte-6fwm5n"> </div> <!></div></li>'),bd=F('<ul class="ach-list svelte-6fwm5n"></ul>'),Md=F('<p class="muted svelte-6fwm5n">Alles unlocked! 🔥</p>'),kd=F('<img alt="" class="ach-icon svelte-6fwm5n"/>'),Sd=F('<div class="ach-desc svelte-6fwm5n"> </div>'),Ad=F('<li class="locked svelte-6fwm5n"><!> <div class="ach-text svelte-6fwm5n"><div class="ach-name svelte-6fwm5n"> </div> <!></div></li>'),Td=F('<ul class="ach-list svelte-6fwm5n"></ul>'),Nd=F('<div class="content svelte-6fwm5n"><div class="left svelte-6fwm5n"><!></div> <div class="right svelte-6fwm5n"><h3 class="svelte-6fwm5n"> </h3> <div class="ach-section svelte-6fwm5n"><h4 class="svelte-6fwm5n"> </h4> <!></div> <div class="ach-section svelte-6fwm5n"><h4 class="svelte-6fwm5n"> </h4> <!></div></div></div>'),Cd=F('<p class="muted svelte-6fwm5n">Kies een game om je achievement-progress te zien.</p>'),$d=F('<div class="controls svelte-6fwm5n"><label>Kies een game: <select class="svelte-6fwm5n"><!></select></label></div> <!>',1),Dd=F('<div class="slide4 svelte-6fwm5n"><h2>Achievement progress</h2> <!></div>');function Ed(e,t){Me(t,!1);const n=q(),r=q();let a=ie(t,"steamId",8,""),i=q(!1),o=q(""),s=q([]),u=q(""),l=q(""),c=q(!1),d=q(""),h=q(null);const v=new Map,m=new Map;async function p(){if(!a()){b(o,"Geen SteamID geselecteerd."),b(s,[]),b(u,""),b(l,"");return}const g=v.get(a());if(g){b(s,g.games),b(o,g.error),f(s).length>0?(b(u,String(f(s)[0].appid)),b(l,f(s)[0].name)):(b(u,""),b(l,""));return}b(i,!0),b(o,""),b(s,[]),b(u,""),b(l,"");try{const x=await fetch(`/api/top-games?steamid=${a()}`),M=await x.json();x.ok?(b(s,M.games||M.topGames||[]),f(s).length>0&&(b(u,String(f(s)[0].appid)),b(l,f(s)[0].name))):b(o,M.error||"Kon games niet laden.")}catch(x){console.error(x),b(o,"Fout bij het laden van games.")}finally{v.set(a(),{games:f(s),error:f(o)}),b(i,!1)}}async function _(){if(!a()||!f(u))return;const g=`${a()}:${f(u)}`,x=m.get(g);if(x){b(h,x.achData),b(d,x.achError);return}b(c,!0),b(d,""),b(h,null);try{const M=await fetch(`/api/achievements?steamid=${a()}&appid=${f(u)}`),j=await M.json();M.ok?j.total===0?b(d,j.message||"Deze game heeft geen achievements."):b(h,j):b(d,j.error||"Kon achievements niet laden.")}catch(M){console.error(M),b(d,"Fout bij het laden van achievements.")}finally{const M=`${a()}:${f(u)}`;m.set(M,{achData:f(h),achError:f(d)}),b(c,!1)}}function y(g){const x=g.target.value;b(u,x);const M=f(s).find(j=>String(j.appid)===x);b(l,M?M.name:"")}ge(()=>Ee(a()),()=>{a()&&p()}),ge(()=>(Ee(a()),f(u)),()=>{a()&&f(u)&&_()}),ge(()=>f(h),()=>{b(n,f(h)?f(h).achievements.filter(g=>g.achieved):[])}),ge(()=>f(h),()=>{b(r,f(h)?f(h).achievements.filter(g=>!g.achieved):[])}),Ie(),Ce();var k=Dd(),D=R(E(k),2);{var w=g=>{var x=fd();$(g,x)},A=g=>{var x=$d(),M=re(x),j=E(M),U=R(E(j));ee(()=>{f(u),si(()=>{f(i),f(o),f(s)})});var S=E(U);{var T=L=>{var Z=hd();$(L,Z)},C=L=>{var Z=he(),oe=re(Z);{var fe=ne=>{var te=vd(),Q=E(te,!0);N(te);var K={};ee(()=>{X(Q,f(o)),K!==(K=f(o))&&(te.__value=f(o))}),$(ne,te)},de=ne=>{var te=he(),Q=re(te);{var K=W=>{var se=dd();$(W,se)},Y=W=>{var se=he(),H=re(se);ze(H,1,()=>f(s),Re,(O,P)=>{var I=gd(),ue=E(I,!0);N(I);var B={};ee(le=>{X(ue,(f(P),z(()=>f(P).name))),B!==(B=le)&&(I.value=(I.__value=le)??"")},[()=>(f(P),z(()=>String(f(P).appid)))]),$(O,I)}),$(W,se)};V(Q,W=>{f(s),z(()=>f(s).length===0)?W(K):W(Y,!1)},!0)}$(ne,te)};V(oe,ne=>{f(o)?ne(fe):ne(de,!1)},!0)}$(L,Z)};V(S,L=>{f(i)?L(T):L(C,!1)})}N(U),N(j),N(M);var G=R(M,2);{var J=L=>{var Z=md();$(L,Z)},ae=L=>{var Z=he(),oe=re(Z);{var fe=ne=>{var te=pd(),Q=E(te,!0);N(te),ee(()=>X(Q,f(d))),$(ne,te)},de=ne=>{var te=he(),Q=re(te);{var K=W=>{var se=Nd(),H=E(se),O=E(H);{let Se=ti(()=>(f(h),z(()=>`${f(h).unlocked} / ${f(h).total} achievements`)));cd(O,{get value(){return f(h),z(()=>f(h).percentage)},label:"Unlocked",get sublabel(){return f(Se)}})}N(H);var P=R(H,2),I=E(P),ue=E(I,!0);N(I);var B=R(I,2),le=E(B),ve=E(le);N(le);var we=R(le,2);{var yt=Se=>{var Ge=yd();$(Se,Ge)},rn=Se=>{var Ge=bd();ze(Ge,5,()=>f(n),Re,(qn,me)=>{var at=xd(),Ut=E(at);{var Xn=Ae=>{var Ue=_d();ee(()=>pe(Ue,"src",(f(me),z(()=>f(me).icon)))),$(Ae,Ue)};V(Ut,Ae=>{f(me),z(()=>f(me).icon)&&Ae(Xn)})}var jt=R(Ut,2),it=E(jt),Bn=E(it,!0);N(it);var Jn=R(it,2);{var Kn=Ae=>{var Ue=wd(),Zn=E(Ue,!0);N(Ue),ee(()=>X(Zn,(f(me),z(()=>f(me).description)))),$(Ae,Ue)};V(Jn,Ae=>{f(me),z(()=>f(me).description)&&Ae(Kn)})}N(jt),N(at),ee(()=>X(Bn,(f(me),z(()=>f(me).displayName)))),$(qn,at)}),N(Ge),$(Se,Ge)};V(we,Se=>{f(n),z(()=>f(n).length===0)?Se(yt):Se(rn,!1)})}N(B);var an=R(B,2),It=E(an),io=E(It);N(It);var oo=R(It,2);{var so=Se=>{var Ge=Md();$(Se,Ge)},lo=Se=>{var Ge=Td();ze(Ge,5,()=>f(r),Re,(qn,me)=>{var at=Ad(),Ut=E(at);{var Xn=Ae=>{var Ue=kd();ee(()=>pe(Ue,"src",(f(me),z(()=>f(me).icongray)))),$(Ae,Ue)};V(Ut,Ae=>{f(me),z(()=>f(me).icongray)&&Ae(Xn)})}var jt=R(Ut,2),it=E(jt),Bn=E(it,!0);N(it);var Jn=R(it,2);{var Kn=Ae=>{var Ue=Sd(),Zn=E(Ue,!0);N(Ue),ee(()=>X(Zn,(f(me),z(()=>f(me).description)))),$(Ae,Ue)};V(Jn,Ae=>{f(me),z(()=>f(me).description)&&Ae(Kn)})}N(jt),N(at),ee(()=>X(Bn,(f(me),z(()=>f(me).displayName)))),$(qn,at)}),N(Ge),$(Se,Ge)};V(oo,Se=>{f(r),z(()=>f(r).length===0)?Se(so):Se(lo,!1)})}N(an),N(P),N(se),ee(()=>{X(ue,f(l)),X(ve,`Unlocked (${f(n),z(()=>f(n).length)??""})`),X(io,`Locked (${f(r),z(()=>f(r).length)??""})`)}),$(W,se)},Y=W=>{var se=Cd();$(W,se)};V(Q,W=>{f(h)?W(K):W(Y,!1)},!0)}$(ne,te)};V(oe,ne=>{f(d)?ne(fe):ne(de,!1)},!0)}$(L,Z)};V(G,L=>{f(c)?L(J):L(ae,!1)})}hi(U,()=>f(u),L=>b(u,L)),qe("change",U,y),$(g,x)};V(D,g=>{a()?g(A,!1):g(w)})}N(k),$(e,k),ke()}var Id=gt('<svg role="img" aria-label="Vergelijking met vrienden" style="width: 100%; height: auto; display: block;"></svg>');function Ud(e,t){Me(t,!1);let n=ie(t,"data",24,()=>[]),r=ie(t,"width",8,700),a=ie(t,"height",8,420),i=ie(t,"margin",24,()=>({top:30,right:20,bottom:40,left:50})),o=q(),s=()=>{};function u(){if(!f(o)||!n()||n().length===0)return;const c=Qe(f(o));c.selectAll("*").remove();const d=r()-i().left-i().right,h=a()-i().top-i().bottom,v=Vt(n(),T=>T.totalGames)||0,m=Vt(n(),T=>T.totalHours)||0,p=Vt(n(),T=>T.recentHours)||0,_=Cn().domain([0,v*1.05]).nice().range([0,d]),y=Cn().domain([0,m*1.05]).nice().range([h,0]),k=Wn().range(["#171a21","#1b2838","#2a475e"]),D=Ji().domain([0,p||1]).range([4,22]),w=c.attr("viewBox",`0 0 ${r()} ${a()}`).attr("preserveAspectRatio","xMidYMid meet"),A=w.append("g").attr("transform",`translate(${i().left},${i().top})`),g=Dr(_).ticks(6),x=Er(y).ticks(6);A.append("g").attr("transform",`translate(0,${h})`).call(g).append("text").attr("x",d/2).attr("y",32).attr("font-size",20).attr("fill","currentColor").attr("text-anchor","middle").text("Aantal games"),A.append("g").call(x).append("text").attr("transform","rotate(-90)").attr("x",-h/2).attr("y",-40).attr("font-size",20).attr("fill","currentColor").attr("text-anchor","middle").text("Totale uren");const M=[...n()].sort((T,C)=>D(C.recentHours)-D(T.recentHours));A.append("g").selectAll("circle").data(M).join("circle").attr("cx",T=>_(T.totalGames)).attr("cy",T=>y(T.totalHours)).attr("r",T=>D(T.recentHours)).attr("fill",(T,C)=>T.isSelf?"#66c0f4":k(C)).attr("opacity",.9).attr("stroke",T=>T.isSelf?"#ffffff":"#383838").attr("stroke-width",T=>T.isSelf?2:0).append("title").text(T=>`${T.personaname}
Games: ${T.totalGames}
Totale uren: ${T.totalHours}
Recent: ${T.recentHours} u`);const U=w.append("g").attr("transform",`translate(${i().left}, 10)`);[{label:"Jij",type:"self"},{label:"Vriend",type:"friend"}].forEach((T,C)=>{const G=U.append("g").attr("transform",`translate(${C*120}, 0)`);G.append("circle").attr("cx",0).attr("cy",0).attr("r",6).attr("fill",T.type==="self"?"#66c0f4":k(C)).attr("stroke",T.type==="self"?"#ffffff":"#383838").attr("stroke-width",T.type==="self"?2:0),G.append("text").attr("x",10).attr("y",4).attr("font-size",20).text(T.label)}),s=()=>{c.selectAll("*").remove()}}Qt(u),Fn(()=>s()),ge(()=>(f(o),Ee(n())),()=>{f(o)&&n()&&u()}),Ie(),Ce();var l=Id();Zt(l,c=>b(o,c),()=>f(o)),$(e,l),ke()}var jd=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),Fd=F("<p>Vriendstatistieken laden…</p>"),Hd=F('<p class="error svelte-2l0jdm"> </p>'),Rd=F(`<p>Geen gegevens gevonden. Heb je misschien geen zichtbare vrienden of
      staan hun profielen op privé?</p>`),zd=F('<img alt="" class="avatar svelte-2l0jdm"/>'),Gd=F('<div class="card svelte-2l0jdm"><h3>Jij</h3> <div class="player-row svelte-2l0jdm"><!> <div><div class="name svelte-2l0jdm"> </div> <div class="meta svelte-2l0jdm"> </div></div></div></div>'),Yd=F('<p class="muted svelte-2l0jdm">Geen vrienden met zichtbare gegevens gevonden.</p>'),Pd=F('<img alt="" class="avatar svelte-2l0jdm"/>'),Ld=F('<li class="svelte-2l0jdm"><!> <div><div class="name svelte-2l0jdm"> </div> <div class="meta svelte-2l0jdm"> </div></div></li>'),Od=F('<ul class="friend-list svelte-2l0jdm"></ul>'),Wd=F(`<p class="intro svelte-2l0jdm">Elke cirkel is een speler. De horizontale as is het aantal games, de verticale as
      het totaal aantal uren. De grootte van de cirkel laat zien hoeveel iemand
      recent heeft gespeeld.</p> <!> <div class="summary svelte-2l0jdm"><!> <div class="card svelte-2l0jdm"><h3>Vrienden (max 20)</h3> <!></div></div>`,1),Vd=F('<div class="slide5 svelte-2l0jdm"><h2>Vergelijk jezelf met je vrienden</h2> <!></div>');function qd(e,t){Me(t,!1);const n=q(),r=q();let a=ie(t,"steamId",8,""),i=q(!1),o=q(""),s=q([]),u=0;const l=new Map;async function c(){if(!a()){b(o,"Geen SteamID geselecteerd. Ga eerst naar slide 1."),b(s,[]),u=0;return}const p=l.get(a());if(p){b(s,p.players),u=p.friendsCount,b(o,p.error),b(i,!1);return}b(i,!0),b(o,""),b(s,[]);try{const _=await fetch(`/api/friends-stats?steamid=${a()}`),y=await _.json();!_.ok||y.error?(b(o,y.error||"Kon vriendstatistieken niet laden."),b(s,[]),u=0):(b(s,y.players||[]),u=y.friendsCount??f(s).length??0)}catch(_){console.error(_),b(o,"Netwerkfout bij het laden van vriendstatistieken."),b(s,[]),u=0}finally{l.set(a(),{players:f(s),friendsCount:u,error:f(o)}),b(i,!1)}}ge(()=>Ee(a()),()=>{a()&&c()}),ge(()=>f(s),()=>{b(n,f(s)&&f(s).find(p=>p.isSelf)?f(s).find(p=>p.isSelf):null)}),ge(()=>f(s),()=>{b(r,f(s).filter(p=>!p.isSelf))}),Ie(),Ce();var d=Vd(),h=R(E(d),2);{var v=p=>{var _=jd();$(p,_)},m=p=>{var _=he(),y=re(_);{var k=w=>{var A=Fd();$(w,A)},D=w=>{var A=he(),g=re(A);{var x=j=>{var U=Hd(),S=E(U,!0);N(U),ee(()=>X(S,f(o))),$(j,U)},M=j=>{var U=he(),S=re(U);{var T=G=>{var J=Rd();$(G,J)},C=G=>{var J=Wd(),ae=R(re(J),2);Ud(ae,{get data(){return f(s)}});var L=R(ae,2),Z=E(L);{var oe=Q=>{var K=Gd(),Y=R(E(K),2),W=E(Y);{var se=B=>{var le=zd();ee(()=>pe(le,"src",(f(n),z(()=>f(n).avatar)))),$(B,le)};V(W,B=>{f(n),z(()=>f(n).avatar)&&B(se)})}var H=R(W,2),O=E(H),P=E(O,!0);N(O);var I=R(O,2),ue=E(I);N(I),N(H),N(Y),N(K),ee(()=>{X(P,(f(n),z(()=>f(n).personaname))),X(ue,`${f(n),z(()=>f(n).totalGames)??""} games • ${f(n),z(()=>f(n).totalHours)??""}u totaal • ${f(n),z(()=>f(n).recentHours)??""}u recent`)}),$(Q,K)};V(Z,Q=>{f(n)&&Q(oe)})}var fe=R(Z,2),de=R(E(fe),2);{var ne=Q=>{var K=Yd();$(Q,K)},te=Q=>{var K=Od();ze(K,5,()=>f(r),Re,(Y,W)=>{var se=Ld(),H=E(se);{var O=ve=>{var we=Pd();ee(()=>pe(we,"src",(f(W),z(()=>f(W).avatar)))),$(ve,we)};V(H,ve=>{f(W),z(()=>f(W).avatar)&&ve(O)})}var P=R(H,2),I=E(P),ue=E(I,!0);N(I);var B=R(I,2),le=E(B);N(B),N(P),N(se),ee(()=>{X(ue,(f(W),z(()=>f(W).personaname))),X(le,`${f(W),z(()=>f(W).totalGames)??""} games • ${f(W),z(()=>f(W).totalHours)??""}u totaal • ${f(W),z(()=>f(W).recentHours)??""}u recent`)}),$(Y,se)}),N(K),$(Q,K)};V(de,Q=>{f(r),z(()=>f(r).length===0)?Q(ne):Q(te,!1)})}N(fe),N(L),$(G,J)};V(S,G=>{f(s),z(()=>f(s).length===0)?G(T):G(C,!1)},!0)}$(j,U)};V(g,j=>{f(o)?j(x):j(M,!1)},!0)}$(w,A)};V(y,w=>{f(i)?w(k):w(D,!1)},!0)}$(p,_)};V(h,p=>{a()?p(m,!1):p(v)})}N(d),$(e,d),ke()}var Xd=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),Bd=F("<option disabled>Games laden…</option>"),Jd=F("<option disabled> </option>"),Kd=F("<option disabled>Geen games gevonden</option>"),Zd=F("<option> </option>"),Qd=F("<p>Achievements laden…</p>"),eg=F('<p class="error svelte-olcyj9"> </p>'),tg=F(`<div class="summary svelte-olcyj9"><div class="summary-item svelte-olcyj9"><div class="summary-label svelte-olcyj9">Totaal</div> <div class="summary-value svelte-olcyj9"> </div></div> <div class="summary-item svelte-olcyj9"><div class="summary-label svelte-olcyj9">Unlocked</div> <div class="summary-value svelte-olcyj9"> </div></div> <div class="summary-item svelte-olcyj9"><div class="summary-label svelte-olcyj9">Percentage</div> <div class="summary-value svelte-olcyj9"> </div></div></div> <div class="viz-wrapper svelte-olcyj9"><p class="hint svelte-olcyj9">Elke cirkel is een achievement met een bekende unlock-datum. Horizontaal zie je de tijd,
          verticaal de naam van de achievement. Hover voor details.</p> <svg class="svelte-olcyj9"></svg></div>`,1),ng=F('<p class="hint svelte-olcyj9">Kies een game om je achievement-tijdlijn te zien.</p>'),rg=F('<div class="controls svelte-olcyj9"><label class="svelte-olcyj9">Kies je favoriete game: <select class="svelte-olcyj9"><!></select></label></div> <!>',1),ag=F('<div class="slide6 svelte-olcyj9"><h2>Achievement tijdlijn – hoe speel jij ze vrij?</h2> <!></div>');function ig(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q([]),o=q(""),s="",u=q(!1),l=q(""),c=q(null);const d=new Map,h=new Map;let v=q();async function m(){if(!n())return;const g=d.get(n());if(g){b(i,g.games),b(a,g.error),f(i).length>0?(b(o,String(f(i)[0].appid)),s=f(i)[0].name,await p()):(b(o,""),s="");return}b(r,!0),b(a,""),b(i,[]),b(o,""),s="";try{const x=await fetch(`/api/top-games?steamid=${n()}`),M=await x.json();if(!x.ok||M.error){b(a,M.error||"Kon games niet laden.");return}b(i,M.topGames||[]),f(i).length>0&&(b(o,String(f(i)[0].appid)),s=f(i)[0].name,await p())}catch(x){console.error(x),b(a,"Netwerkfout bij het laden van games.")}finally{d.set(n(),{games:f(i),error:f(a)}),b(r,!1)}}async function p(){if(!n()||!f(o))return;const g=`${n()}:${f(o)}`,x=h.get(g);if(x){b(c,x.achData),b(l,x.achError),y();return}b(u,!0),b(l,""),b(c,null);try{const M=await fetch(`/api/achievements?steamid=${n()}&appid=${f(o)}`),j=await M.json();if(!M.ok||j.error){b(l,j.error||"Kon achievements niet laden.");return}if(j.total===0){b(l,j.message||"Deze game heeft geen achievements.");return}b(c,j);const U=f(i).find(S=>String(S.appid)===String(f(o)));U&&(s=U.name),Yo&&y()}catch(M){console.error(M),b(l,"Netwerkfout bij het laden van achievements.")}finally{const M=`${n()}:${f(o)}`;h.set(M,{achData:f(c),achError:f(l)}),b(u,!1)}}function _(g){b(o,g.target.value);const x=f(i).find(M=>String(M.appid)===String(f(o)));s=x?x.name:"",p()}Qt(()=>{n()&&m()});function y(){if(!f(v)||!f(c))return;const g=f(c).achievements.filter(Y=>Y.achieved&&Y.unlocktime).map(Y=>({...Y,date:new Date(Y.unlocktime*1e3)})).sort((Y,W)=>Y.date-W.date),x=f(v).parentElement,M={top:40,right:40,bottom:40,left:80},U=(x?.clientWidth||900)-M.left-M.right,S=Math.max(220,g.length*24),T=Qe(f(v)).attr("width",U+M.left+M.right).attr("height",S+M.top+M.bottom);if(T.selectAll("*").remove(),!g.length){T.append("g").attr("transform",`translate(${M.left},${M.top+S/2})`).append("text").attr("class","empty-text").text("Geen achievements met een unlock-datum gevonden.").attr("x",0).attr("y",0);return}const C=T.append("g").attr("transform",`translate(${M.left},${M.top})`),G=mv().domain(la(g,Y=>Y.date)).range([0,U]).nice(),J=Wr().domain(g.map(Y=>Y.displayName)).range([0,S]).padding(.2),ae=Qr(Mv).domain(la(g,Y=>Y.date)),L=Dr(G).ticks(5);C.append("g").attr("class","x-axis").attr("transform",`translate(0,${S})`).call(L).selectAll("text").attr("color","#c7d5e0");const Z=Er(J).tickSize(0);C.append("g").attr("class","y-axis").call(Z).selectAll("text").remove(),C.append("text").attr("class","chart-title").attr("x",0).attr("y",-12).attr("fill","#c7d5e0").text(`Unlocked achievements voor ${s}`);let oe=null;const fe=f(i).find(Y=>String(Y.appid)===String(f(o)));fe?.img_icon_url&&(oe=`https://media.steampowered.com/steamcommunity/public/images/apps/${fe.appid}/${fe.img_icon_url}.jpg`);const de=Math.min(24,J.bandwidth());C.selectAll(".ach-icon").data(g,Y=>Y.apiName).enter().append("image").attr("class","ach-icon").attr("href",Y=>Y.icon||oe||"").attr("x",-de-8).attr("y",Y=>J(Y.displayName)+(J.bandwidth()-de)/2).attr("width",de).attr("height",de).append("title").text(Y=>Y.displayName);const K=C.selectAll(".ach-node").data(g,Y=>Y.apiName).enter().append("circle").attr("class","ach-node").attr("cx",Y=>G(Y.date)).attr("cy",Y=>J(Y.displayName)+J.bandwidth()/2).attr("r",0).attr("fill",Y=>ae(Y.date)).attr("opacity",.9);K.transition().duration(600).attr("r",Math.min(10,J.bandwidth()/2)),K.append("title").text(Y=>{const W=Y.date.toLocaleDateString();return`${Y.displayName}
Unlocked: ${W}
${Y.description||""}`})}ge(()=>Ee(n()),()=>{n()&&m()}),ge(()=>(f(v),f(c)),()=>{f(v)&&f(c)&&y()}),Ie(),Ce();var k=ag(),D=R(E(k),2);{var w=g=>{var x=Xd();$(g,x)},A=g=>{var x=rg(),M=re(x),j=E(M),U=R(E(j));ee(()=>{f(o),si(()=>{f(r),f(i),f(a)})});var S=E(U);{var T=L=>{var Z=Bd();$(L,Z)},C=L=>{var Z=he(),oe=re(Z);{var fe=ne=>{var te=Jd(),Q=E(te,!0);N(te);var K={};ee(()=>{X(Q,f(a)),K!==(K=f(a))&&(te.__value=f(a))}),$(ne,te)},de=ne=>{var te=he(),Q=re(te);{var K=W=>{var se=Kd();$(W,se)},Y=W=>{var se=he(),H=re(se);ze(H,1,()=>f(i),Re,(O,P)=>{var I=Zd(),ue=E(I,!0);N(I);var B={};ee(le=>{X(ue,(f(P),z(()=>f(P).name))),B!==(B=le)&&(I.value=(I.__value=le)??"")},[()=>(f(P),z(()=>String(f(P).appid)))]),$(O,I)}),$(W,se)};V(Q,W=>{f(i),z(()=>f(i).length===0)?W(K):W(Y,!1)},!0)}$(ne,te)};V(oe,ne=>{f(a)?ne(fe):ne(de,!1)},!0)}$(L,Z)};V(S,L=>{f(r)?L(T):L(C,!1)})}N(U),N(j),N(M);var G=R(M,2);{var J=L=>{var Z=Qd();$(L,Z)},ae=L=>{var Z=he(),oe=re(Z);{var fe=ne=>{var te=eg(),Q=E(te,!0);N(te),ee(()=>X(Q,f(l))),$(ne,te)},de=ne=>{var te=he(),Q=re(te);{var K=W=>{var se=tg(),H=re(se),O=E(H),P=R(E(O),2),I=E(P,!0);N(P),N(O);var ue=R(O,2),B=R(E(ue),2),le=E(B,!0);N(B),N(ue);var ve=R(ue,2),we=R(E(ve),2),yt=E(we);N(we),N(ve),N(H);var rn=R(H,2),an=R(E(rn),2);Zt(an,It=>b(v,It),()=>f(v)),N(rn),ee(()=>{X(I,(f(c),z(()=>f(c).total))),X(le,(f(c),z(()=>f(c).unlocked))),X(yt,`${f(c),z(()=>f(c).percentage)??""}%`)}),$(W,se)},Y=W=>{var se=ng();$(W,se)};V(Q,W=>{f(c)?W(K):W(Y,!1)},!0)}$(ne,te)};V(oe,ne=>{f(l)?ne(fe):ne(de,!1)},!0)}$(L,Z)};V(G,L=>{f(u)?L(J):L(ae,!1)})}ee(()=>U.disabled=(f(r),f(i),z(()=>f(r)||f(i).length===0))),hi(U,()=>f(o),L=>b(o,L)),qe("change",U,_),$(g,x)};V(D,g=>{n()?g(A,!1):g(w)})}N(k),$(e,k),ke()}var og=F('<article class="gem-card svelte-a9htlt"><div class="top-row svelte-a9htlt"><img class="cover svelte-a9htlt" loading="lazy"/> <div class="main svelte-a9htlt"><h3 class="svelte-a9htlt"> </h3> <div class="meta svelte-a9htlt"><span> </span> <span class="divider svelte-a9htlt">•</span> <span> </span></div> <div class="gem-score svelte-a9htlt"><div class="badge svelte-a9htlt">Hidden gem score: <strong> </strong></div> <p class="hint svelte-a9htlt">Score gebaseerd op Steam-rating, aantal reviews en hoe weinig je het zelf hebt gespeeld.</p></div></div></div></article>'),sg=F('<div class="gems svelte-a9htlt"></div>');function lg(e,t){let n=ie(t,"data",24,()=>[]);function r(s){return`https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/${s}/capsule_184x69.jpg`}function a(s){if(!s||!s.totalReviews)return"Geen Steamrating beschikbaar";const u=s.reviewScoreDesc||"Onbekend",l=s.positiveRatio!=null?`${s.positiveRatio}% positief`:"",c=`${s.totalReviews.toLocaleString()} reviews`;return`${u} • ${l} • ${c}`}function i(s){return`${s.toFixed(1)} u`}var o=sg();ze(o,5,n,Re,(s,u)=>{var l=og(),c=E(l),d=E(c),h=R(d,2),v=E(h),m=E(v,!0);N(v);var p=R(v,2),_=E(p),y=E(_);N(_);var k=R(_,4),D=E(k,!0);N(k),N(p);var w=R(p,2),A=E(w),g=R(E(A)),x=E(g);N(g),N(A),Cr(2),N(w),N(h),N(c),N(l),ee((M,j,U)=>{pe(d,"src",M),pe(d,"alt",(f(u),z(()=>`Cover van ${f(u).name}`))),X(m,(f(u),z(()=>f(u).name))),X(y,`Jij: ${j??""} gespeeld`),X(D,U),X(x,`${f(u),z(()=>f(u).gemScore)??""}/100`)},[()=>(f(u),z(()=>r(f(u).appid))),()=>(f(u),z(()=>i(f(u).hours))),()=>(f(u),z(()=>a(f(u).steamRating)))]),qe("error",d,M=>M.target.style.visibility="hidden"),$(s,l)}),N(o),$(e,o)}var ug=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),cg=F("<p>Hidden gems zoeken…</p>"),fg=F('<p class="error svelte-ex6odw"> </p>'),hg=F(`<p class="muted svelte-ex6odw">We konden geen hidden gems vinden. Misschien speel je alles al heel uitgebreid,
      of zijn er weinig games met voldoende reviews.</p>`),vg=F(`<p class="intro svelte-ex6odw">Dit zijn games die jij relatief weinig hebt gespeeld, maar op Steam een sterke
      beoordeling en/of veel positieve reviews hebben. Hun <strong>hidden gem score</strong> combineert reviewscore, populariteit en het feit dat jij ze nog weinig hebt aangeraakt.</p> <!>`,1),dg=F('<div class="slide7 svelte-ex6odw"><h2>Hidden gems in je library</h2> <!></div>');function gg(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q([]);const o=new Map;async function s(){if(!n()){b(a,"Geen SteamID geselecteerd."),b(i,[]);return}const h=o.get(n());if(h){b(i,h.gems),b(a,h.error),b(r,!1);return}b(r,!0),b(a,""),b(i,[]);try{const v=await fetch(`/api/hidden-gems?steamid=${n()}`),m=await v.json();!v.ok||m.error?b(a,m.error||"Kon hidden gems niet laden."):(b(i,m.gems||[]),!f(i).length&&m.message&&b(a,m.message))}catch(v){console.error(v),b(a,"Netwerkfout bij het laden van hidden gems.")}finally{o.set(n(),{gems:f(i),error:f(a)}),b(r,!1)}}ge(()=>Ee(n()),()=>{n()&&s()}),Ie(),Ce();var u=dg(),l=R(E(u),2);{var c=h=>{var v=ug();$(h,v)},d=h=>{var v=he(),m=re(v);{var p=y=>{var k=cg();$(y,k)},_=y=>{var k=he(),D=re(k);{var w=g=>{var x=fg(),M=E(x,!0);N(x),ee(()=>X(M,f(a))),$(g,x)},A=g=>{var x=he(),M=re(x);{var j=S=>{var T=hg();$(S,T)},U=S=>{var T=vg(),C=R(re(T),2);lg(C,{get data(){return f(i)}}),$(S,T)};V(M,S=>{f(i),z(()=>f(i).length===0)?S(j):S(U,!1)},!0)}$(g,x)};V(D,g=>{f(a),f(i),z(()=>f(a)&&(!f(i)||f(i).length===0))?g(w):g(A,!1)},!0)}$(y,k)};V(m,y=>{f(r)?y(p):y(_,!1)},!0)}$(h,v)};V(l,h=>{n()?h(d,!1):h(c)})}N(u),$(e,u),ke()}var mg=F('<div class="row svelte-1rhmpae"><div class="left svelte-1rhmpae"><div class="genre svelte-1rhmpae"> </div> <div class="meta svelte-1rhmpae"> </div></div> <div class="bar-wrap svelte-1rhmpae"><div class="bar svelte-1rhmpae"></div></div></div>'),pg=F('<div class="genres svelte-1rhmpae"></div>');function yg(e,t){let n=ie(t,"data",24,()=>[]),r=ie(t,"currency",8,"EUR");function a(o){return`${o.toFixed(2)} ${r()}`}var i=pg();ze(i,5,n,Re,(o,s)=>{var u=mg(),l=E(u),c=E(l),d=E(c,!0);N(c);var h=R(c,2),v=E(h);N(h),N(l);var m=R(l,2),p=E(m);N(m),N(u),ee(_=>{X(d,(f(s),z(()=>f(s).genre))),X(v,`${f(s),z(()=>f(s).count)??""} game${f(s),z(()=>f(s).count===1?"":"s")??""} •
            ${_??""} • ${f(s),z(()=>f(s).percentage)??""}%`),ci(p,(f(s),z(()=>`width: ${f(s).percentage}%;`)))},[()=>(f(s),z(()=>a(f(s).value)))]),$(o,u)}),N(i),$(e,i)}var _g=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),wg=F("<p>Library waarde laden…</p>"),xg=F('<p class="error svelte-1cktp67"> </p>'),bg=F(`<div class="section svelte-1cktp67"><h3>Verdeling per genre / categorie</h3> <p class="hint svelte-1cktp67">Hier zie je hoeveel van de totale waarde gekoppeld is aan elke genre/categorie
          op de store-pagina. Dit zijn de genres van de games waar een actuele
          prijs voor gevonden is.</p> <!></div>`),Mg=F('<tr><td class="svelte-1cktp67"> </td><td class="svelte-1cktp67"> </td><td class="svelte-1cktp67"> </td></tr>'),kg=F('<div class="section svelte-1cktp67"><h3>Duurste games in je library</h3> <p class="hint svelte-1cktp67">Dit zijn de games met de hoogste huidige store-prijs in de subset die is opgehaald.</p> <table class="games-table svelte-1cktp67"><thead><tr><th class="svelte-1cktp67">Game</th><th class="svelte-1cktp67">Prijs</th><th class="svelte-1cktp67">Jouw speeltijd</th></tr></thead><tbody></tbody></table></div>'),Sg=F('<div class="summary svelte-1cktp67"><div class="summary-block big svelte-1cktp67"><div class="label svelte-1cktp67">Geschatte waarde (subset)</div> <div class="value svelte-1cktp67"> </div> <div class="note svelte-1cktp67"> </div></div></div> <!> <!>',1),Ag=F('<div class="slide8 svelte-1cktp67"><h2>Waardeverdeling van je library</h2> <!></div>');function Tg(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q(0),o=q("EUR"),s=q(0),u=q(0),l=q([]),c=q([]);const d=new Map;async function h(){if(!n()){b(a,"Geen SteamID geselecteerd.");return}const k=d.get(n());if(k){b(i,k.totalValue),b(o,k.currency),b(s,k.gamesPricedCount),b(u,k.totalOwnedCount),b(l,k.genres),b(c,k.mostExpensive),b(a,k.error),b(r,!1);return}b(r,!0),b(a,""),b(l,[]),b(c,[]),b(i,0),b(s,0),b(u,0);try{const D=await fetch(`/api/library-value?steamid=${n()}`),w=await D.json();!D.ok||w.error?b(a,w.error||"Kon library waarde niet laden."):(w.message&&(!w.genres||!w.genres.length)&&b(a,w.message),b(i,w.totalValue||0),b(o,w.currency||"EUR"),b(s,w.gamesPricedCount||0),b(u,w.totalOwnedCount||0),b(l,w.genres||[]),b(c,w.mostExpensive||[]))}catch(D){console.error(D),b(a,"Netwerkfout bij het laden van library waarde.")}finally{d.set(n(),{totalValue:f(i),currency:f(o),gamesPricedCount:f(s),totalOwnedCount:f(u),genres:f(l),mostExpensive:f(c),error:f(a)}),b(r,!1)}}function v(k){return`${k.toFixed(2)} ${f(o)}`}ge(()=>Ee(n()),()=>{n()&&h()}),Ie(),Ce();var m=Ag(),p=R(E(m),2);{var _=k=>{var D=_g();$(k,D)},y=k=>{var D=he(),w=re(D);{var A=x=>{var M=wg();$(x,M)},g=x=>{var M=he(),j=re(M);{var U=T=>{var C=xg(),G=E(C,!0);N(C),ee(()=>X(G,f(a))),$(T,C)},S=T=>{var C=Sg(),G=re(C),J=E(G),ae=R(E(J),2),L=E(ae,!0);N(ae);var Z=R(ae,2),oe=E(Z);N(Z),N(J),N(G);var fe=R(G,2);{var de=Q=>{var K=bg(),Y=R(E(K),4);yg(Y,{get data(){return f(l)},get currency(){return f(o)}}),N(K),$(Q,K)};V(fe,Q=>{f(l),z(()=>f(l)&&f(l).length)&&Q(de)})}var ne=R(fe,2);{var te=Q=>{var K=kg(),Y=R(E(K),4),W=R(E(Y));ze(W,5,()=>f(c),Re,(se,H)=>{var O=Mg(),P=E(O),I=E(P,!0);N(P);var ue=R(P),B=E(ue,!0);N(ue);var le=R(ue),ve=E(le);N(le),N(O),ee(we=>{X(I,(f(H),z(()=>f(H).name))),X(B,we),X(ve,`${f(H),z(()=>f(H).hours)??""}u`)},[()=>(f(H),z(()=>v(f(H).price)))]),$(se,O)}),N(W),N(Y),N(K),$(Q,K)};V(ne,Q=>{f(c),z(()=>f(c)&&f(c).length)&&Q(te)})}ee(Q=>{X(L,Q),X(oe,`Gebaseerd op ongeveer ${f(s)??""} games met prijsinformatie
          van je totaal ${f(u)??""} games.`)},[()=>(f(i),z(()=>v(f(i))))]),$(T,C)};V(j,T=>{f(a),f(l),z(()=>f(a)&&(!f(l)||f(l).length===0))?T(U):T(S,!1)},!0)}$(x,M)};V(w,x=>{f(r)?x(A):x(g,!1)},!0)}$(k,D)};V(p,k=>{n()?k(y,!1):k(_)})}N(m),$(e,m),ke()}var Ng=gt('<svg class="steam-bubble-galaxy svelte-1xepg73" role="img" aria-label="Steam speelgedrag bubbelvisualisatie"></svg>');function Cg(e,t){Me(t,!1);let n=ie(t,"data",24,()=>[]),r=ie(t,"width",8,700),a=ie(t,"height",8,450),i=q(),o=()=>{};function s(){if(!f(i)||!n()||!n().length)return;const l=Qe(f(i));l.selectAll("*").remove();const c=n().map(_=>({..._})),d=Vt(c,_=>_.hours)||1,h=Ji().domain([0,d]).range([6,80]);c.forEach(_=>{_.r=h(_.hours)});const v=Qr(bv).domain([0,d]);l.attr("viewBox",[-r()/2,-a()/2,r(),a()]).attr("width",r()).attr("height",a());const m=l.append("g").selectAll("g.node").data(c,_=>_.appid).join("g").attr("class","node").call(ou().on("start",(_,y)=>{_.active||p.alphaTarget(.2).restart(),y.fx=y.x,y.fy=y.y}).on("drag",(_,y)=>{y.fx=_.x,y.fy=_.y}).on("end",(_,y)=>{_.active||p.alphaTarget(0),y.fx=null,y.fy=null}));m.append("circle").attr("r",_=>_.r).attr("fill",_=>v(_.hours)).attr("fill-opacity",.9).attr("stroke","#171a21").attr("stroke-width",1.5).append("title").text(_=>`${_.name}
${_.hours} uur gespeeld`),m.append("text").attr("text-anchor","middle").attr("dy","0.35em").attr("pointer-events","none").style("font-size","10px").style("fill","#c7d5e0").text(_=>{const y=_.name||"";return y.length<=10?y:y.slice(0,9)+"…"});const p=Nf(c).force("center",ef(0,0)).force("charge",Cf().strength(5)).force("collision",wf().radius(_=>_.r+3)).on("tick",()=>{m.attr("transform",_=>`translate(${_.x},${_.y})`)});o=()=>{p.stop(),l.selectAll("*").remove()}}Qt(s),Fn(()=>o()),ge(()=>Ee(n()),()=>{n()&&n().length&&s()}),Ie(),Ce();var u=Ng();Zt(u,l=>b(i,l),()=>f(i)),$(e,u),ke()}var $g=F("<p>Geen SteamID geselecteerd. Ga terug naar slide 1 om een account te kiezen.</p>"),Dg=F("<p>Je speeluniversum wordt opgebouwd…</p>"),Eg=F('<p class="error svelte-t1wuwe"> </p>'),Ig=F("<p>We vonden geen games met speeltijd. Start een game en kom later terug 😉</p>"),Ug=F(`<p class="hint svelte-t1wuwe">Elke cirkel is een game die je gespeeld hebt. Hoe groter de bubbel, hoe meer uur je erin hebt gestoken.
      Beweeg met je muis over een bubbel om te zien welke game het is.
      Je kunt de bubbles ook een beetje verslepen.</p> <!> <p class="footer svelte-t1wuwe">Dit is de laatste slide van je Steam Story – een overzicht van alle werelden waar je tijd in hebt geïnvesteerd.</p>`,1),jg=F('<div class="slide9 svelte-t1wuwe"><h2 class="svelte-t1wuwe">Jouw Steam speeluniversum</h2> <!></div>');function Fg(e,t){Me(t,!1);let n=ie(t,"steamId",8,""),r=q(!1),a=q(""),i=q([]);const o=new Map;async function s(){if(!n()){b(a,"Geen SteamID geselecteerd."),b(i,[]);return}const h=o.get(n());if(h){b(i,h.games),b(a,h.error),b(r,!1);return}b(r,!0),b(a,""),b(i,[]);try{const v=await fetch(`/api/owned-games-simple?steamid=${n()}`),m=await v.json();!v.ok||m.error?b(a,m.error||"Kon games niet laden."):b(i,m.games||[])}catch(v){console.error(v),b(a,"Netwerkfout bij het laden van je games.")}finally{o.set(n(),{games:f(i),error:f(a)}),b(r,!1)}}ge(()=>Ee(n()),()=>{n()&&s()}),Ie(),Ce();var u=jg(),l=R(E(u),2);{var c=h=>{var v=$g();$(h,v)},d=h=>{var v=he(),m=re(v);{var p=y=>{var k=Dg();$(y,k)},_=y=>{var k=he(),D=re(k);{var w=g=>{var x=Eg(),M=E(x,!0);N(x),ee(()=>X(M,f(a))),$(g,x)},A=g=>{var x=he(),M=re(x);{var j=S=>{var T=Ig();$(S,T)},U=S=>{var T=Ug(),C=R(re(T),2);Cg(C,{get data(){return f(i)},width:700,height:450}),Cr(2),$(S,T)};V(M,S=>{f(i),z(()=>f(i).length===0)?S(j):S(U,!1)},!0)}$(g,x)};V(D,g=>{f(a)?g(w):g(A,!1)},!0)}$(y,k)};V(m,y=>{f(r)?y(p):y(_,!1)},!0)}$(h,v)};V(l,h=>{n()?h(d,!1):h(c)})}N(u),$(e,u),ke()}var Hg=F('<button type="button"></button>'),Rg=F('<nav class="story-bar svelte-1uha8ag"></nav> <main class="story-container svelte-1uha8ag"><header class="story-header svelte-1uha8ag"><h1 class="svelte-1uha8ag">Jouw Steam Story</h1> <p class="story-subtitle svelte-1uha8ag"> </p></header> <section class="story-slide svelte-1uha8ag"><!></section> <footer class="story-footer svelte-1uha8ag"><button type="button" class="svelte-1uha8ag">◀ Vorige</button> <span> </span> <button type="button" class="svelte-1uha8ag">Volgende ▶</button></footer></main>',1);function Bg(e,t){Me(t,!1);const n=q();let r=ie(t,"data",8),a=q(null),i=q(0),o=q(r().initialSteamId||"");const s=[{component:Ko,label:"Start"},{component:Xv,label:"Top games"},{component:od,label:"Genres"},{component:Ed,label:"Achievements overzicht"},{component:qd,label:"Vrienden"},{component:ig,label:"Achievements radar"},{component:gg,label:"Hidden gems"},{component:Tg,label:"Library waarde"},{component:Fg,label:"Speeluniversum"}],u=s.length;function l(U){U>=0&&U<u&&b(i,U)}function c(){l(f(i)+1)}function d(){l(f(i)-1)}function h(){l(1)}ge(()=>(f(o),f(a),sa),()=>{f(o)&&f(o)!==f(a)&&(sa(f(o)),b(a,f(o)))}),ge(()=>f(i),()=>{b(n,s[f(i)].component)}),Ie(),Ce();var v=Rg(),m=re(v);ze(m,5,()=>z(()=>Array(u)),Re,(U,S,T)=>{var C=Hg();let G;pe(C,"aria-label",`Ga naar slide ${T+1}`),ee(()=>G=ui(C,1,"story-segment svelte-1uha8ag",null,G,{active:f(i)===T})),qe("click",C,()=>l(T)),$(U,C)}),N(m);var p=R(m,2),_=E(p),y=R(E(_),2),k=E(y);N(y),N(_);var D=R(_,2),w=E(D);Io(w,()=>f(n),(U,S)=>{S(U,{isActive:!0,get steamId(){return f(o)},set steamId(T){b(o,T)},$$events:{start:h},$$legacy:!0})}),N(D);var A=R(D,2),g=E(A),x=R(g,2),M=E(x);N(x);var j=R(x,2);N(A),N(p),ee(()=>{X(k,`Slide ${f(i)+1} van ${u??""} — ${f(i),z(()=>s[f(i)].label)??""}`),g.disabled=f(i)===0,X(M,`Slide ${f(i)+1} / ${u??""}`),j.disabled=f(i)===u-1}),qe("click",g,d),qe("click",j,c),$(e,v),ke()}export{Bg as component,Xg as universal};
